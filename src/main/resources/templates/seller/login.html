<!DOCTYPE html>
    <html lang="kr">
    <head>
        <title>로그인</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://kit.fontawesome.com/7b271bba58.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/public/css/common.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <style>
            .fill-on {
                font-variation-settings: 'FILL' 1;
            }
            .fill-off {
                font-variation-settings: 'FILL' 0;
            }
            .seller_profile img{
                aspect-ratio: 1/1;
                width: 100px;
                object-fit: cover;
                object-position: center;
            }
            .scrollable {
                /* height: 100vh; */
                height: calc(100vh - 58px);
                overflow-y: auto;
                position: fixed;
            }
            .category{
                transition: background-color 0.3s;
            }
            .category:hover{
                background-color: #263445;
            }
            .subcategory {
                background-color: #1F2D3D;
                transition: background-color 0.3s;
            }
            .subcategory:hover{
                background-color: #001528;
            }
            .bi-chevron-down, .bi-chevron-up{
                color: #8F9399;
            }
            a{
                text-decoration: none;
            }
            .product-category a{
                color: black;
            }
            .left a{
                color: #F4F4F5;
            }
            .store-center{
                background-color: #1F2D3D;
            }
            .f08{
                font-size: 0.8em;
            }
            .f09{
                font-size: 0.9em;
            }
            .top-nav{
                height: 58px;
            }
            .left{
                width: 15vw;
            }
            .right{
                padding-left: 15vw;
            }
            a{
                text-decoration: none;
            }
            #inputId:focus, #inputPw:focus {
                z-index: 1;
                position: relative;
                outline: 1px solid black;
            }
            .seller-type .selected{
                background-color: white;
            }
            .seller-type .unselected{
                background-color: #F8F9FA;
                color: #8D8F92;
            }
        </style>
        <script>
            function selectSellerType(button) {
                const buttons = document.querySelectorAll('.seller-type input');
                buttons.forEach(btn => btn.classList.remove('selected'));
                buttons.forEach(btn => btn.classList.remove('border-primary'));
                buttons.forEach(btn => btn.classList.add('unselected'));
                button.classList.add('selected');
                button.classList.add('border-primary');
                button.classList.remove('unselected');
                
                document.getElementById('sellerType').value = button.value;

                const inputId = document.getElementById("inputId");
                const inputPw = document.getElementById("inputPw");

                inputId.value = button.value == 'Store' ? 'brooklynworks' : button.value == 'Campsite' ? 'campsite01' : '바카르 고양점';
                inputPw.value = button.value == 'Store' || button.value == 'Campsite' ? '1234' : '1234';
            }
        </script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <form id="loginForm" method="post" action="/seller/loginProcess" class="col">
                    <input type="hidden" id="sellerType" name="seller_type" value="Store">
                    <div class="row py-5"></div>
                    <div class="row pt-5 text-center">
                        <div class="col fs-1 fw-bold">
                            로그인
                        </div>
                    </div>
                    <div class="row pt-2 text-center">
                        <div class="col fs-5">
                            판매회원 아이디로 로그인 해주세요
                        </div>
                    </div>
                    <div class="row pt-5">
                        <div class="col"></div>
                        <div class="col">
                            <div class="row rounded-3 seller-type">
                                <div class="col d-grid px-0">
                                    <input type="button" class="fw-bold border border-bottom-0 rounded-3 rounded-bottom-0 py-3 selected border-primary" value="Store" onclick="selectSellerType(this)">
                                </div>
                                <div class="col d-grid px-0">
                                    <input type="button" class="fw-bold border border-bottom-0 rounded-3 rounded-bottom-0 unselected" value="Campsite" onclick="selectSellerType(this)">
                                </div>
                                <div class="col d-grid px-0">
                                    <input type="button" class="fw-bold border border-bottom-0 rounded-3 rounded-bottom-0 unselected" value="Caravan" onclick="selectSellerType(this)">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col d-grid px-0">
                                    <input type="text" id="inputId" name="account_id" class="border border-bottom-0 rounded-0 py-3 px-3" placeholder="아이디">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col d-grid px-0">
                                    <input type="password" id="inputPw" name="account_pw" class="border rounded-3 rounded-top-0 py-3 px-3" placeholder="비밀번호">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col f08 text-danger" id="loginFail"></div>
                            </div>
                        </div>
                        <div class="col"></div>
                    </div>

                    <div class="row pt-4">
                        <div class="col px-0"></div>
                        <div class="col d-grid px-0">
                            <button class="btn btn-primary py-2 fs-5">
                                로그인    
                            </button>
                        </div>
                        <div class="col px-0"></div>
                    </div>

                    <div class="row pt-3">
                        <div class="col px-0"></div>
                        <div class="col px-0">
                            <div class="row pb-5 border-bottom">
                                <div class="col"></div>
                                <div class="col-auto">
                                    <a href="" class="text-secondary">아이디 찾기</a>
                                </div>
                                <div class="col-auto">
                                    <a href="" class="text-secondary">비밀번호 재설정</a>
                                </div>
                                <div class="col-auto">
                                    <a href="/seller/sellerJoinType" class="text-secondary">회원가입</a>
                                </div>
                                <div class="col"></div>
                            </div>
                        </div>
                        <div class="col px-0"></div>
                    </div>
                </form>
                <div class="row text-center py-5">
                    <div class="col f08 text-secondary">
                        <span class="fw-bold">BaseCamp</span> copyright ⓒ BaseCamp Corp. All rights reserved.
                    </div>
                </div>
            </div>
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
              const loginForm = document.getElementById("loginForm");
              const inputId = document.getElementById("inputId");
              const inputPw = document.getElementById("inputPw");
              inputId.value = 'brooklynworks';
              inputPw.value = '1234';
              loginForm.addEventListener("submit", (event) => {
                  event.preventDefault();
                  const sellerType = document.getElementById("sellerType");
                  const url = `/api/seller/getSellerDtoByAccountInfo?account_id=${inputId.value}&account_pw=${inputPw.value}&seller_type=${sellerType.value}`
                  fetch(url)
                  .then(response => response.json())
                  .then((response) => {

                      const loginFail = document.getElementById("loginFail");

                      if(response.data.sellerDto==null){
                          loginFail.innerText = "로그인에 실패했습니다. 아이디(ID)와 비밀번호를 확인하고 다시 시도해 주세요.";
                      }else{
                          const loginForm = document.getElementById("loginForm");
                          loginForm.submit();
                      }
                  })
              })
          })
      </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    </body>
</html>