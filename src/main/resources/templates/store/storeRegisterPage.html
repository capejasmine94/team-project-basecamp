<!DOCTYPE html>
<html lang="kr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="https://kit.fontawesome.com/7b271bba58.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/public/css/common.css">

        <link rel="stylesheet" href="/public/css/font.css">

        <style>
            .seller_profile img{
                aspect-ratio: 1/1;
                width: 100px;
                object-fit: cover;
                object-position: center;
            }
            .scrollable {
                /* height: 100vh; */
                height: calc(100vh - 58px);
                overflow-y: auto;
                position: fixed;
            }
            .category{
                transition: background-color 0.3s;
            }
            .category:hover{
                background-color: #263445;
            }
            .subcategory {
                background-color: #1F2D3D;
                transition: background-color 0.3s;
            }
            .subcategory:hover{
                background-color: #001528;
            }
            .bi-chevron-down, .bi-chevron-up{
                color: #8F9399;
            }
            a{
                text-decoration: none;
            }
            .product-category a{
                color: black;
            }
            .left a{
                color: #F4F4F5;
            }
            .store-center{
                background-color: #1F2D3D;
            }
            .f08{
                font-size: 0.8em;
            }
            .f09{
                font-size: 0.9em;
            }
            .top-nav{
                height: 58px;
            }
            .left{
                width: 15vw;
            }
            .right{
                padding-left: 15vw;
            }
        </style>
    </head>
    <body class="bg-body-tertiary">
        <div class="container">
            <div class="row py-5">
                <div class="col"></div>
                <form id="storeRegisterForm" action="/storeCenter/storeRegisterProcess" class="col-7">
                    <div class="row">
                        <div class="col-auto pe-0 fw-bold">
                            BaseCamp 
                        </div>
                    </div>
                    <div class="row pb-4" style="align-items: baseline;">
                        <div class="col pe-0 fs-2">
                            판매 회원가입
                        </div>
                        <!-- <div class="col text-body-tertiary">
                            가입하기
                        </div> -->
                        <div class="col-auto text-body-tertiary fw-bold">
                            1 판매자 유형 선택
                        </div>
                        <div class="col-auto text-primary fw-bold">
                            <span class="border-top border-2 border-primary">2 정보 입력</span>
                        </div>
                        <div class="col-auto text-body-tertiary fw-bold">
                            3 가입 신청 완료
                        </div>
                    </div>

                    <div class="row pb-3">
                        <div class="col px-4 border bg-white">
                            <div class="row py-3 border-bottom">
                                <div class="col fw-bold">
                                    회원정보 입력
                                </div>
                            </div>
                            <div class="row pt-4">
                                <div class="col">
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            아이디
                                        </div>
                                        <div class="col position-ralative">
                                            <input onblur="checkSellerAccountID()" id="inputId" name="account_id" type="text" class="form-control" placeholder="로그인 아이디">
                                            <div id="confirmResult" class="position-absolute f08 text-danger"></div>
                                        </div>
                                    </div>
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            비밀번호
                                        </div>
                                        <div class="col">
                                            <input id="inputPw" name="account_pw" type="password" class="form-control" placeholder="비밀번호">
                                        </div>
                                    </div>
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            비밀번호 확인
                                        </div>
                                        <div class="col">
                                            <input onkeyup="checkAccountPwConfirm()" id="inputPwConfirm" type="password" class="form-control" placeholder="비밀번호 확인">
                                            <div id="confirmAccountPw" class="position-absolute f08 text-danger"></div>
                                        </div>
                                    </div>
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            이름
                                        </div>
                                        <div class="col">
                                            <input id="inputSeller" name="seller" type="text" class="form-control" placeholder="이름">
                                        </div>
                                    </div>
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            전화번호
                                        </div>
                                        <div class="col">
                                            <input type="text" id="inputPhone" name="phone" class="form-control" placeholder="전화번호">
                                        </div>
                                    </div>
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            이메일
                                        </div>
                                        <div class="col">
                                            <input type="email" id="inputEmail" name="email" class="form-control" placeholder="이메일">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row pb-4">
                        <div class="col px-4 border bg-white">
                            <div class="row py-3 border-bottom">
                                <div class="col fw-bold">
                                    스토어정보 입력
                                </div>
                            </div>
                            <div class="row pt-4">
                                <div class="col">
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            스토어명
                                        </div>
                                        <div class="col position-ralative">
                                            <input onblur="checkStoreName()" type="text" id="inputName" name="name" class="form-control" placeholder="스토어명">
                                            <div id="confirmStoreName" class="position-absolute f08 text-danger"></div>
                                        </div>
                                    </div>
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            사업자 등록번호
                                        </div>
                                        <div class="col">
                                            <input type="text" id="inputCRN" name="crn" class="form-control" placeholder="사업자 등록번호">
                                        </div>
                                    </div>

                                    <div class="row pb-4 align-items-center">
                                        <div class="col">
                                            <div class="row pb-2 align-items-center">
                                                <div class="col-3">
                                                    주소
                                                </div>
                                                <div class="col pe-0">
                                                    <input type="text" class="form-control bg-white" name="postcode" id="postcode" placeholder="우편번호">
                                                </div>
                                                <div class="col-auto">
                                                    <input type="button" id="postcodeButton" class="form-control" onclick="execDaumPostcode()" value="우편번호 찾기">
                                                </div>
                                            </div>
                                            <div class="row pb-2">
                                                <div class="col-3"></div>
                                                <div class="col">
                                                    <input type="text" name="address" class="form-control bg-white" id="address" placeholder="주소">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-3"></div>
                                                <div class="col">
                                                    <input type="text" name="detail_address" class="form-control" id="detailAddress" placeholder="상세주소">
                                                </div>
                                                <!-- <div class="col">
                                                    <input type="text" class="form-control" id="extraAddress" placeholder="참고항목">
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 
                                    <div class="row align-items-center">
                                        <div class="col">
                                            <div class="row pb-2">
                                                <div class="col-3">
                                                    스토어 url
                                                </div>
                                                <div class="col">
                                                    https://www.basecamp.com/
                                                </div>
                                            </div>
                                            <div class="row pb-2">
                                                <div class="col-3"></div>
                                                <div class="col">
                                                    <input type="text" class="form-control" placeholder="이거 그냥 뺄까? 어차피 안될텐데">
                                                </div>
                                            </div>
                                            <div class="row pb-4">
                                                <div class="col-3"></div>
                                                <div class="col f08 text-secondary">
                                                    https://www.basecamp.com/ 뒤에 사용할 스토어 고유의 주소이며, 가입 후 수정이 불가능합니다.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                     -->
                                    <div class="row pb-4 align-items-center">
                                        <div class="col-3">
                                            소개글
                                        </div>
                                        <div class="col input-group">
                                            <input onkeyup="checkDescriptionLength()" id="inputDescription" name="description" type="text" class="form-control" placeholder="50자 이내로 작성">
                                            <span class="input-group-text bg-white" id="descriptionCount">0/50</span>
                                            <!-- <textarea class="form-control" id=""></textarea> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    
                    <div class="row pb-3">
                        <div class="col px-4 border bg-white">
                            <div class="row py-3 border-bottom">
                                <div class="col fw-bold">
                                    배송 · 정산정보 입력
                                </div>
                            </div>
                            <div class="row pt-4">
                                <div class="col">
                                    
                                    <div class="row pb-4 align-items-center">
                                        <div class="col">
                                            <div class="row pb-2 align-items-center">
                                                <div class="col-3">
                                                    상품 출고지
                                                </div>
                                                <div class="col-auto pe-0">
                                                    <input type="checkbox" class="form-check-input" id="originAddressCheckBox">
                                                </div>
                                                <div class="col">
                                                    사업장 주소와 동일
                                                </div>
                                            </div>
                                            <div class="row pb-2">
                                                <div class="col-3"></div>
                                                <div class="col pe-0">
                                                    <input type="text" name="origin_postcode" class="form-control bg-white" id="origin_postcode" placeholder="우편번호">
                                                </div>
                                                <div class="col-auto">
                                                    <input type="button" class="form-control" id="originPostcodeButton" onclick="origin_execDaumPostcode()" value="우편번호 찾기">
                                                </div>
                                            </div>
                                            <div class="row pb-2">
                                                <div class="col-3"></div>
                                                <div class="col">
                                                    <input type="text" name="origin_address" class="form-control bg-white" id="origin_address" placeholder="주소">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-3"></div>
                                                <div class="col">
                                                    <input type="text" name="detail_origin_address" class="form-control" id="origin_detailAddress" placeholder="상세주소">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row pb-4 align-items-center">
                                        <div class="col">
                                            <div class="row pb-2 align-items-center">
                                                <div class="col-3">
                                                    반품/교환지
                                                </div>
                                                <div class="col-auto pe-0">
                                                    <input type="checkbox" class="form-check-input" id="returnAddressCheckBox">
                                                </div>
                                                <div class="col">
                                                    사업장 주소와 동일
                                                </div>
                                            </div>
                                            <div class="row pb-2">
                                                <div class="col-3"></div>
                                                <div class="col pe-0">
                                                    <input type="text" name="return_postcode" class="form-control bg-white" id="return_postcode" placeholder="우편번호">
                                                </div>
                                                <div class="col-auto">
                                                    <input type="button" id="returnPostcodeButton" class="form-control" onclick="return_execDaumPostcode()" value="우편번호 찾기">
                                                </div>
                                            </div>
                                            <div class="row pb-2">
                                                <div class="col-3"></div>
                                                <div class="col">
                                                    <input type="text" name="return_address" class="form-control bg-white" id="return_address" placeholder="주소">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-3"></div>
                                                <div class="col">
                                                    <input type="text" name="detail_return_address" class="form-control" id="return_detailAddress" placeholder="상세주소">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row pb-4 align-items-center">
                                        <div class="col">
                                            <div class="row pb-2 align-items-center">
                                                <div class="col-3">
                                                    정산 계좌
                                                </div>
                                                <div class="col pe-0">
                                                    <select class="form-control" name="bank_name" id="bank_name">
                                                        <option value="selectPlease">
                                                            은행선택
                                                        </option>
                                                        <option value="국민은행">
                                                            국민은행
                                                        </option>
                                                        <option value="기업은행">
                                                            기업은행
                                                        </option>
                                                        <option value="농협">
                                                            농협
                                                        </option>
                                                        <option value="신한은행">
                                                            신한은행
                                                        </option>
                                                        <option value="우리은행">
                                                            우리은행
                                                        </option>
                                                        <option value="SC제일은행">
                                                            SC제일은행
                                                        </option>
                                                        <option value="KEB하나은행">
                                                            KEB하나은행
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="col"></div>
                                            </div>
                                            <div class="row pb-2">
                                                <div class="col-3"></div>
                                                <div class="col pe-0">
                                                    <input type="text" class="form-control" name="account_holder" id="account_holder" placeholder="예금주명">
                                                </div>
                                                <div class="col">
                                                    <input type="text" class="form-control" name="account_number" id="account_number" placeholder="계좌번호 (-없이 입력)">
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row pb-5">
                        <div class="col"></div>
                        <div class="col-2 pe-0 d-grid">
                            <a href="/seller/login" class="btn border bg-white py-2 rounded-0">
                                처음으로
                            </a>
                        </div>
                        <div class="col-3 pe-0 d-grid">
                            <input onclick="formSubmit()" type="button" value="가입신청완료" class="btn btn-primary py-2 rounded-0">
                        </div>
                        <div class="col"></div>
                    </div>

                    <div class="row text-center py-5">
                        <div class="col f08 text-secondary">
                            <span class="fw-bold">BaseCamp</span> copyright ⓒ BaseCamp Corp. All rights reserved.
                        </div>
                    </div>
                </form>
                <div class="col"></div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const originAddressCheckBox = document.getElementById("originAddressCheckBox");
                originAddressCheckBox.addEventListener("change", automaticallyInputOriginAddress);

                const returnAddressCheckBox = document.getElementById("returnAddressCheckBox");
                returnAddressCheckBox.addEventListener("change", automaticallyInputReturnAddress);
            });

            function automaticallyInputOriginAddress(){
                const originAddressCheckBox = document.getElementById("originAddressCheckBox");
                const origin_postcode = document.getElementById("origin_postcode");
                const origin_address = document.getElementById("origin_address");
                const origin_detailAddress = document.getElementById("origin_detailAddress");

                const postcode = document.getElementById("postcode");
                const address = document.getElementById("address");
                const detail_address = document.getElementById("detailAddress");

                if(originAddressCheckBox.checked){
                    origin_postcode.value = postcode.value;
                    origin_address.value = address.value;
                    origin_detailAddress.value = detail_address.value;
                }else{
                    origin_postcode.value = '';
                    origin_address.value = '';
                    origin_detailAddress.value = '';
                }
            }

            function automaticallyInputReturnAddress(){
                const returnAddressCheckBox = document.getElementById("returnAddressCheckBox");
                const return_postcode = document.getElementById("return_postcode");
                const return_address = document.getElementById("return_address");
                const return_detailAddress = document.getElementById("return_detailAddress");

                const postcode = document.getElementById("postcode");
                const address = document.getElementById("address");
                const detail_address = document.getElementById("detailAddress");

                if(returnAddressCheckBox.checked){
                    return_postcode.value = postcode.value;
                    return_address.value = address.value;
                    return_detailAddress.value = detail_address.value;
                }else{
                    return_postcode.value = '';
                    return_address.value = '';
                    return_detailAddress.value = '';
                }
            }

            function formSubmit(){

                const inputId = document.getElementById("inputId");
                const confirmResult = document.getElementById("confirmResult");
                if(inputId.value == '' || confirmResult.innerText=="이미 사용중인 아이디입니다") {
                    inputId.focus();
                    return;
                }
                
                const inputPw = document.getElementById("inputPw");
                if(inputPw.value == '') {
                    inputPw.focus();
                    return;
                }

                const inputPwConfirm = document.getElementById("inputPwConfirm");
                const confirmAccountPw = document.getElementById("confirmAccountPw");
                if(inputPw.value != inputPwConfirm.value){
                    confirmAccountPw.innerText = "비밀번호와 일치하지 않습니다";
                    inputPwConfirm.focus();
                    return;
                }

                const inputSeller = document.getElementById("inputSeller");
                if(inputSeller.value == '') {
                    inputSeller.focus();
                    return;
                }
                
                const inputPhone = document.getElementById("inputPhone");
                if(inputPhone.value == '') {
                    inputPhone.focus();
                    return;
                }

                const inputEmail = document.getElementById("inputEmail");
                if(inputEmail.value == '') {
                    inputEmail.focus();
                    return;
                }

                const inputName = document.getElementById("inputName");
                const confirmStoreName = document.getElementById("confirmStoreName");
                if(inputName.value == '' || confirmStoreName.innerText=="이미 사용중인 스토어명입니다"){
                    inputName.focus();
                    return;
                }

                const inputCRN = document.getElementById("inputCRN");
                if(inputCRN.value == '') {
                    inputCRN.focus();
                    return;
                }

                const postcode = document.getElementById("postcode");
                const address = document.getElementById("address");
                const postcodeButton = document.getElementById("postcodeButton");
                if(postcode.value == '' || address.value == ''){
                    // alert("주소를 입력해주세요");
                    postcodeButton.focus();
                    return;
                }

                const origin_postcode = document.getElementById("origin_postcode");
                const origin_address = document.getElementById("origin_address");
                const originPostcodeButton = document.getElementById("originPostcodeButton");
                if(origin_postcode.value == '' || origin_address.value == ''){
                    originPostcodeButton.focus();
                    return;
                }

                const return_postcode = document.getElementById("return_postcode");
                const return_address = document.getElementById("return_address");
                const returnPostcodeButton = document.getElementById("returnPostcodeButton");
                if(return_postcode.value == '' || return_address.value == ''){
                    returnPostcodeButton.focus();
                    return;
                }

                const bank_name = document.getElementById("bank_name");
                if(bank_name.value=='selectPlease'){
                    bank_name.focus();
                    return;
                }

                const account_holder = document.getElementById("account_holder");
                if(account_holder.value==''){
                    account_holder.focus();
                    return;
                }

                const account_number = document.getElementById("account_number");
                if(account_number.value==''){
                    account_number.focus();
                    return;
                }

                const storeRegisterForm = document.getElementById("storeRegisterForm");
                storeRegisterForm.submit();

            }

            function checkSellerAccountID(){
                const inputId = document.getElementById("inputId");

                const url = "/api/store/isExistStoreAccountId?account_id=" + inputId.value;
                fetch(url)
                .then(response => response.json())
                .then((response) => {
                    const confirmResult = document.getElementById("confirmResult");

                    if(response.data.isExistAccountID == true){
                        // confirmResult.style.color = "red";
                        confirmResult.innerText = "이미 사용중인 아이디입니다";
                    }else{
                        confirmResult.innerText = "";
                    }
                })
            }

            function checkAccountPwConfirm(){
                const inputPw = document.getElementById("inputPw");
                const inputPwConfirm = document.getElementById("inputPwConfirm");
                
                const confirmAccountPw = document.getElementById("confirmAccountPw");

                if(inputPw.value == inputPwConfirm.value){
                    confirmAccountPw.innerText = "";
                }else{
                    confirmAccountPw.innerText = "비밀번호와 일치하지 않습니다";
                }
            }

            function checkStoreName(){
                const inputName = document.getElementById("inputName");

                const url = "/api/store/isExistStoreName?name=" + inputName.value;
                fetch(url)
                .then(response => response.json())
                .then((response) => {
                    const confirmStoreName = document.getElementById("confirmStoreName");

                    if(response.data.isExistName == true){
                        // confirmStoreName.style.color = "red";
                        confirmStoreName.innerText = "이미 사용중인 스토어명입니다";
                    }else{
                        confirmStoreName.innerText = "";
                    }
                })
            }

            function checkDescriptionLength() {
                const inputDescription = document.getElementById("inputDescription");
                const descriptionCount = document.getElementById("descriptionCount");
                const currentLength = inputDescription.value.length;
                
                if (currentLength > 50) {
                    inputDescription.value = inputDescription.value.substring(0, 50);
                    currentLength = 50;
                }
                
                descriptionCount.textContent = currentLength + "/50";
            }

            function origin_execDaumPostcode() {
                new daum.Postcode({
                    oncomplete: function(data) {

                        var addr = '';
                        var extraAddr = '';

                        if (data.userSelectedType === 'R') {
                            addr = data.roadAddress;
                        } else {
                            addr = data.jibunAddress;
                        }

                        if(data.userSelectedType === 'R'){
                            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                                extraAddr += data.bname;
                            }

                            if(data.buildingName !== '' && data.apartment === 'Y'){
                                extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                            }

                            if(extraAddr !== ''){
                                extraAddr = ' (' + extraAddr + ')';
                            }
                        }

                        document.getElementById('origin_postcode').value = data.zonecode;
                        document.getElementById("origin_address").value = addr+extraAddr;

                        document.getElementById("origin_detailAddress").focus();
                    }
                }).open();
            }

            function return_execDaumPostcode() {
                new daum.Postcode({
                    oncomplete: function(data) {

                        var addr = '';
                        var extraAddr = '';

                        if (data.userSelectedType === 'R') {
                            addr = data.roadAddress;
                        } else {
                            addr = data.jibunAddress;
                        }

                        if(data.userSelectedType === 'R'){
                            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                                extraAddr += data.bname;
                            }

                            if(data.buildingName !== '' && data.apartment === 'Y'){
                                extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                            }

                            if(extraAddr !== ''){
                                extraAddr = ' (' + extraAddr + ')';
                            }
                        }

                        document.getElementById('return_postcode').value = data.zonecode;
                        document.getElementById("return_address").value = addr+extraAddr;

                        document.getElementById("return_detailAddress").focus();
                    }
                }).open();
            }

            function execDaumPostcode() {
                new daum.Postcode({
                    oncomplete: function(data) {
                        var addr = '';
                        var extraAddr = '';

                        if (data.userSelectedType === 'R') {
                            addr = data.roadAddress;
                        } else {
                            addr = data.jibunAddress;
                        }

                        if(data.userSelectedType === 'R'){

                            if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                                extraAddr += data.bname;
                            }
                            if(data.buildingName !== '' && data.apartment === 'Y'){
                                extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                            }
                            if(extraAddr !== ''){
                                extraAddr = ' (' + extraAddr + ')';
                            }
                        }

                        document.getElementById('postcode').value = data.zonecode;
                        document.getElementById("address").value = addr+extraAddr;
                        document.getElementById("detailAddress").focus();
                    }
                }).open();
            }
        </script>
    </body>
</html>