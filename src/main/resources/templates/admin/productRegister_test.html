<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>NaturalForest</title>
        <!-- 공용 css -->
        <link rel="stylesheet" href="/public/css/common.css">
        <!-- 부트스틀랩 -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <!-- font-awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <!-- Custom CSS -->
        <style>
            /* Step 컨테이너는 기본적으로 숨깁니다. */
            .step-container {
                display: none;
            }
            
            /* 활성화된 Step 컨테이너는 보이도록 설정합니다. */
            .step-container.active {
                display: block;
            }
            
            /* 네비게이션 탭의 스타일링 */
            .nav-pills .nav-link {
                border-radius: 0;
                position: relative;
                background-color: transparent;
                color: black; /* 탭 색상을 검은색으로 지정 */
            }
            
            /* 체크 표시 스타일링 */
            .nav-pills .nav-link::after {
                content: "\2713";  /* 체크 표시 유니코드 */
                position: absolute;
                top: 50%;
                right: 15px;
                transform: translateY(-50%);
                display: none; /* 기본적으로 숨깁니다. */
            }
            
            /* 완료된 탭에만 체크 표시를 보이도록 설정 */
            .nav-pills .nav-link.completed::after {
                display: inline;
            }
            
            /* 활성화된 탭의 스타일링 */
            .nav-pills .nav-link.active {
                background-color: transparent;
                color: black;
            }
            
            /* 프로그레스 바 스타일링 */
            .progress {
                height: 25px;
            }
            
            .progress-bar {
                line-height: 25px;
            }
        </style>
    </head>
    <body>

    <div class="container mt-5">
        <div class="row">
            <!-- Step 네비게이션 -->
            <div class="col-md-3">
                <ul class="nav flex-column nav-pills">
                    <!-- 각 단계를 나타내는 네비게이션 탭 -->
                    <li class="nav-item">
                        <a class="nav-link active completed" id="nav-step-1">일반</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-step-2">가격</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-step-3">예약</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-step-4">완료</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="nav-step-5">등록</a>
                    </li>
                </ul>
            </div>
            <!-- Step 콘텐츠 -->
            <div class="col-md-9">
                <!-- 각 스텝의 콘텐츠를 나타내는 컨테이너들 -->
                <div id="step-1" class="step-container active">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Step 1: 일반</h3>
                        </div>
                        <div class="col-md-6">
                            <!-- 등록상품명 입력 폼 -->
                            <div class="form-group">
                                <label for="productName">등록상품명</label>
                                <input type="text" class="form-control" id="productName">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <!-- 항목 소개 입력 폼 -->
                            <div class="form-group">
                                <label for="productDescription">항목 소개</label>
                                <textarea class="form-control" id="productDescription"></textarea>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <!-- 다음 단계로 이동하는 버튼 -->
                            <button class="btn btn-primary float-right" onclick="nextStep()">계속하기</button>
                        </div>
                    </div>
                </div>
                <!-- 각 스텝의 콘텐츠 컨테이너 -->
                <div id="step-2" class="step-container">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Step 2: 가격</h3>
                        </div>
                        <div class="col-md-6">
                            <!-- 평일 가격 입력 폼 -->
                            <div class="form-group">
                                <label for="price">평일 가격</label>
                                <input type="number" class="form-control" id="price">
                            </div>
                        </div>
                        <div class="col-md-12">
                            <!-- 이전 단계로 돌아가는 버튼과 다음 단계로 진행하는 버튼 -->
                            <button class="btn btn-secondary" onclick="previousStep()">뒤로가기</button>
                            <button class="btn btn-primary float-right" onclick="nextStep()">계속하기</button>
                        </div>
                    </div>
                </div>
                <!-- 각 스텝의 콘텐츠 컨테이너 -->
                <div id="step-3" class="step-container">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Step 3: 예약</h3>
                        </div>
                        <!-- 예약 관련 폼 내용 -->
                        <div class="col-md-12">
                            <!-- 이전 단계로 돌아가는 버튼과 다음 단계로 진행하는 버튼 -->
                            <button class="btn btn-secondary" onclick="previousStep()">뒤로가기</button>
                            <button class="btn btn-primary float-right" onclick="nextStep()">계속하기</button>
                        </div>
                    </div>
                </div>
                <!-- 각 스텝의 콘텐츠 컨테이너 -->
                <div id="step-4" class="step-container">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Step 4: 완료</h3>
                        </div>
                        <!-- 완료 관련 폼 내용 -->
                        <div class="col-md-12">
                            <!-- 이전 단계로 돌아가는 버튼과 다음 단계로 진행하는 버튼 -->
                            <button class="btn btn-secondary" onclick="previousStep()">뒤로가기</button>
                            <button class="btn btn-primary float-right" onclick="nextStep()">계속하기</button>
                        </div>
                    </div>
                </div>
                <!-- 각 스텝의 콘텐츠 컨테이너 -->
                <div id="step-5" class="step-container">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Step 5: 등록</h3>
                        </div>
                        <!-- 등록 관련 폼 내용 -->
                        <div class="col-md-12">
                            <!-- 이전 단계로 돌아가는 버튼과 등록 완료 버튼 -->
                            <button class="btn btn-secondary" onclick="previousStep()">뒤로가기</button>
                            <button class="btn btn-success float-right">등록 완료</button>
                        </div>
                    </div>
                </div>
                <!-- 프로그레스 바 -->
                <div class="row mt-3">
                    <div class="col-md-12">
                        <div class="progress">
                            <!-- 프로그레스 바 요소 -->
                            <div id="progress-bar" class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 20%">1 / 5</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery와 Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Custom JavaScript -->
    <script>
        // 초기 단계 설정
        let currentStep = 1;

        // 페이지가 로드될 때 초기화 작업을 수행합니다.
        $(document).ready(function() {
            // Step 1을 기본적으로 활성화하고 체크 표시와 프로그레스 바를 초기화합니다.
            activateTab(currentStep);
        });

        // 탭을 활성화하고 관련된 스텝 콘텐츠를 표시하는 함수입니다.
        function activateTab(step) {
            // 클릭된 탭을 활성화하고 해당 스텝 콘텐츠를 표시합니다.
            $('#nav-step-' + step).addClass('active').siblings().removeClass('active');
            $('#step-' + step).addClass('active').siblings('.step-container').removeClass('active');

            // 첫 번째 단계에서 체크 표시를 활성화합니다.
            $('#nav-step-' + step).addClass('completed').prevAll().addClass('completed');

            // 프로그레스 바를 업데이트합니다.
            updateProgressBar(step);

            // 현재 단계를 업데이트합니다.
            currentStep = step;
        }

        // 이전 단계로 돌아가는 함수입니다.
        function previousStep() {
            // 현재 단계에서 'completed' 클래스를 제거합니다.
            $('#nav-step-' + currentStep).removeClass('completed');

            // 이전 단계를 활성화합니다.
            activateTab(currentStep - 1);
        }

        // 다음 단계로 진행하는 함수입니다.
        function nextStep() {
            // 현재 단계를 'completed'로 표시합니다.
            $('#nav-step-' + currentStep).addClass('completed');

            // 다음 단계를 활성화합니다.
            activateTab(currentStep + 1);
        }

        // 프로그레스 바를 업데이트하는 함수입니다.
        function updateProgressBar(step) {
            let progress = step * 20; // 각 단계당 20%씩 증가합니다.
            $('#progress-bar').css('width', progress + '%').text(step + ' / 5');
        }
    </script>
    </body>
</html>