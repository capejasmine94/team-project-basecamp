<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NaturalForest</title>
    <!-- 공용 css -->
    <link rel="stylesheet" href="/public/css/common.css">
    <!-- 부트스트랩 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        body {
            font-size: 14px; /* 기본 글꼴 크기 설정 */
        }
        .sidebar-sticky {
            height: 100vh; /* 사이드바 높이를 화면 전체 높이로 설정 */
            padding-top: 20px; /* 상단 여백 추가 */
            background-color: #ffffff; /* 배경색 */
            color: #000; /* 텍스트 색상 */
        }
        .nav-link {
            color: #000; /* 네비게이션 링크 텍스트 색상 */
            font-size: 0.9rem; /* 네비게이션 링크 글꼴 크기 */
            display: block; /* 블록 레벨 요소로 표시 */
            padding: 0.75rem 1.25rem; /* 내부 여백 */
            background-color: #ffffff; /* 배경색 */
            transition: background-color 0.3s ease; /* 배경색 전환 효과 */
            border: none; /* 테두리 없음 */
            text-decoration: none !important; /* 기본 링크 효과 제거 */
            cursor: pointer; /* 포인터 커서 설정 */
            text-align: left; /* 텍스트 왼쪽 정렬 */
        }
        .nav-link i {
            margin-right: 8px; /* 아이콘과 텍스트 사이 여백 */
            font-size: 1.1rem; /* 아이콘 글꼴 크기 */
        }
        .nav-tabs .nav-link {
            color: #000; /* 탭 네비게이션 링크 텍스트 색상 */
            background-color: #ffffff; /* 배경색 */
            border: none; /* 테두리 없음 */
        }
        .nav-tabs .nav-link.active {
            color: #007bff; /* 활성화된 탭 네비게이션 링크 텍스트 색상 */
        }
        .tab-content > .tab-pane {
            padding: 20px; /* 탭 패널 내부 여백 설정 */
        }
        .container-fluid {
            background-color: #f8f9fa; /* 컨테이너 배경색 */
        }
        .content-title {
            font-size: 1.5rem; /* 콘텐츠 제목 글꼴 크기 */
            margin-bottom: 1rem; /* 아래 여백 */
        }
        .status-label {
            font-weight: bold; /* 텍스트 굵게 */
        }
        /* 네비게이션 링크 호버 효과 설정 */
        .nav-link:hover {
            background-color: #495057; /* 호버 배경색 */
            color: #fff; /* 호버 텍스트 색상 */
        }
        /* 아코디언 스타일 설정 */
        .accordion-button {
            color: #000; /* 아코디언 버튼 텍스트 색상 */
            background-color: #ffffff; /* 배경색 */
            border: none; /* 테두리 없음 */
            text-align: left; /* 텍스트 왼쪽 정렬 */
            padding: 0.75rem 1.25rem; /* 내부 여백 */
            margin-bottom: 0.5rem; /* 아래 여백 */
            cursor: pointer; /* 포인터 커서 설정 */
        }
        .accordion-button i {
            margin-left: auto; /* 아이콘 왼쪽 여백 자동 설정 */
            transition: transform 0.3s ease; /* 변형 효과 */
        }
        .accordion-button.collapsed i.fa-caret-up {
            transform: rotate(180deg); /* 접힌 상태일 때 아이콘 회전 */
        }
        .accordion-body {
            padding: 0; /* 아코디언 바디 내부 여백 */
        }
    </style>
</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- 사이드바 -->
        <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block sidebar">
            <div class="sidebar-sticky">
                <!-- 사이드바 제목 -->
                <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                    <span>사이트 관리</span>
                </h6>
                <div class="accordion" id="sidebarAccordion">
                    <!-- 사용자 관리 아코디언 -->
                    <div>
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            <i class="fas fa-user-cog"></i> 사용자 관리 <i class="fas fa-caret-down ml-auto"></i>
                        </button>
                        <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#sidebarAccordion">
                            <ul class="nav flex-column">
                                <!-- 사용자 설정 -->
                                <li class="nav-item">
                                    <button class="nav-link" data-toggle="tab" data-target="#user-settings">
                                        <i class="fas fa-users-cog"></i> 사용자 설정
                                    </button>
                                </li>
                                <!-- 보안 설정 -->
                                <li class="nav-item">
                                    <button class="nav-link" data-toggle="tab" data-target="#security-settings">
                                        <i class="fas fa-user-shield"></i> 보안 설정
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- CRM 캠페인 자동화 아코디언 -->
                    <div>
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            <i class="fas fa-bullhorn"></i> CRM 캠페인 자동화 <span class="badge badge-danger ml-1">New</span> <i class="fas fa-caret-down ml-auto"></i>
                        </button>
                        <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#sidebarAccordion">
                            <div class="accordion-body">
                                <!-- CRM 캠페인 자동화 내용 -->
                            </div>
                        </div>
                    </div>
                    <!-- 고객 행동 관리 아코디언 -->
                    <div>
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            <i class="fas fa-user-friends"></i> 고객 행동 관리 <i class="fas fa-caret-down ml-auto"></i>
                        </button>
                        <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#sidebarAccordion">
                            <div class="accordion-body">
                                <!-- 고객 행동 관리 내용 -->
                            </div>
                        </div>
                    </div>
                    <!-- 예약 아코디언 -->
                    <div>
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            <i class="fas fa-calendar-alt"></i> 예약 <i class="fas fa-caret-down ml-auto"></i>
                        </button>
                        <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#sidebarAccordion">
                            <ul class="nav flex-column">
                                <!-- 객실 사이트 -->
                                <li class="nav-item">
                                    <button class="nav-link" data-toggle="tab" data-target="#reservation-rooms">
                                        <i class="fas fa-bed"></i> 객실 사이트
                                    </button>
                                </li>
                                <!-- 예약 현황 -->
                                <li class="nav-item">
                                    <button class="nav-link" data-toggle="tab" data-target="#reservation-status">
                                        <i class="fas fa-book"></i> 예약 현황
                                    </button>
                                </li>
                                <!-- 예약 신청 -->
                                <li class="nav-item">
                                    <button class="nav-link" data-toggle="tab" data-target="#reservation-application">
                                        <i class="fas fa-calendar-check"></i> 예약 신청
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <!-- 메인 콘텐츠 -->
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
            <div class="tab-content" id="myTabContent">
                <!-- 사용자 관리 탭 -->
                <div class="tab-pane fade" id="dashboard-user-management" role="tabpanel" aria-labelledby="dashboard-user-management-tab">
                    <h2 class="content-title">사용자 관리</h2>
                    <div id="dashboard-user-management-content">
                        <p>사용자 관리에 관한 내용을 여기에 추가하세요.</p>
                    </div>
                </div>
                <!-- 객실 사이트 탭 -->
                <div class="tab-pane fade" id="reservation-rooms" role="tabpanel" aria-labelledby="reservation-rooms-tab">
                    <h2 class="content-title">객실 사이트</h2>
                    <div id="reservation-rooms-content">
                        <table class="table table-striped">
                            <thead>
                                <!-- 테이블 헤더 -->
                                <tr>
                                    <th scope="col">예약 ID</th>
                                    <th scope="col">예약 상태</th>
                                    <th scope="col">대표 예약 옵션</th>
                                    <th scope="col">체크인 - 체크아웃</th>
                                    <th scope="col">예약자(인원)</th>
                                    <th scope="col">대표 투숙자</th>
                                    <th scope="col">판매 금액</th>
                                    <th scope="col">입금 금액</th>
                                    <th scope="col">예약 일시(KST)</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- 예약 데이터 행 -->
                                <tr>
                                    <td class="status-label">LDG-20200101-12345</td>
                                    <td class="status-label"><span class="badge badge-warning">확정대기</span></td>
                                    <td>스탠다드룸 - 객실 Only</td>
                                    <td>2023.10.27(금) - 2023.10.31(화)</td>
                                    <td>김루나(2)</td>
                                    <td>김루나</td>
                                    <td>1,200,000원</td>
                                    <td>100,000원</td>
                                    <td>2023.09.28. 16:40</td>
                                    <td><button class="btn btn-secondary btn-sm">메모</button></td>
                                </tr>
                                <!-- 추가적인 예약 데이터 행 -->
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- 예약 현황 탭 -->
                <div class="tab-pane fade" id="reservation-status" role="tabpanel" aria-labelledby="reservation-status-tab">
                    <h2 class="content-title">예약 현황</h2>
                    <div id="reservation-status-content">
                        <p>예약 현황에 관한 내용을 여기에 추가하세요.</p>
                    </div>
                </div>
                <!-- 예약 신청 탭 -->
                <div class="tab-pane fade" id="reservation-application" role="tabpanel" aria-labelledby="reservation-application-tab">
                    <h2 class="content-title">예약 신청</h2>
                    <div id="reservation-application-content">
                        <p>예약 신청에 관한 내용을 여기에 추가하세요.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<!-- 자바스크립트 라이브러리 -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function() {
        // 페이지 로드 시 모든 아코디언 닫기
        $('.collapse').collapse('hide');

        // 아이콘 회전 상태 업데이트 함수
        function updateIconRotation(button) {
            var icon = button.find('i.fa-caret-down, i.fa-caret-up');
            if (button.hasClass('collapsed')) {
                icon.removeClass('fa-caret-up').addClass('fa-caret-down');
            } else {
                icon.removeClass('fa-caret-down').addClass('fa-caret-up');
            }
        }

        // 아코디언 버튼 클릭 이벤트 처리
        $('.accordion-button').click(function() {
            var isCollapsed = $(this).hasClass('collapsed');

            // 모든 아이콘을 원래 상태로 되돌리기
            $('.accordion-button i.fa-caret-up').removeClass('fa-caret-up').addClass('fa-caret-down');

            // 클릭한 아코디언의 아이콘 상태 업데이트
            var button = $(this);
            var icon = button.find('i.fa-caret-down, i.fa-caret-up');
            if (isCollapsed) {
                icon.removeClass('fa-caret-down').addClass('fa-caret-up');
            } else {
                icon.removeClass('fa-caret-up').addClass('fa-caret-down');
            }

            // 다른 아코디언 항목 닫기
            $('.collapse').collapse('hide');
            $('.accordion-button').addClass('collapsed');

            // 현재 클릭한 아코디언 항목 토글
            if (isCollapsed) {
                button.removeClass('collapsed');
                button.next('.collapse').collapse('show');
            }
        });

        // 아코디언이 닫힐 때 아이콘 상태 업데이트
        $('.collapse').on('hidden.bs.collapse', function () {
            var button = $(this).prev('.accordion-button');
            updateIconRotation(button);
        });

        // 아코디언이 열릴 때 아이콘 상태 업데이트
        $('.collapse').on('shown.bs.collapse', function () {
            var button = $(this).prev('.accordion-button');
            updateIconRotation(button);
        });

        // 탭 버튼 클릭 이벤트 처리
        $('.nav-link').on('click', function() {
            var target = $(this).data('target');
            $('.tab-pane').removeClass('show active');
            $(target).addClass('show active');
        });
    });
</script>
</body>
</html>
