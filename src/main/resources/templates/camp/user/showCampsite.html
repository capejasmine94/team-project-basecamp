<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>BASECAMP</title>
    <link rel="shotcut icon" href="/public/img/common/campFire.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/public/css/common.css">
    <link rel="stylesheet" href="/public/css/basecamp.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css">

    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d17362e8bc72e774ada9174ac4347761&libraries=services"></script>
    <script src="/public/js/calendar.js"></script>
    <script src="/public/js/util.js"></script>
    <script src="/public/js/camp/user.js"></script>
    <script src="/public/js/lockLikeMobile.js"></script>

    <script>
        initSession();
    </script>

    <style>
        .material-symbols-outlined {
          font-constiation-settings:
          'FILL' 0,
          'wght' 400,
          'GRAD' 0,
          'opsz' 24
        }
        .topNaviBasecamp {
            background-color: white;
        }
        .sticky-custom {
            position: -webkit-sticky;
            position: sticky;
            top: 2.536em; /* 여기에서 높이를 조정합니다 */
            z-index: 1020;
        }
        .scroll-horizontal {
            overflow-x: auto;
            white-space: nowrap;
        }
        .scroll-horizontal::-webkit-scrollbar {
            display: none;
        }
        .scroll-horizontal .facility {
            display: inline-block;
            width: 4.75em; /* 필요에 따라 너비를 조정하세요 */
            text-align: center;
            margin-right: 10px; /* 아이템 간 간격 조정 */
        }

         /* 평상시 탭 스타일 */
         .nav-tabs .nav-link {
            color: #666;
            outline: none;
            border-radius: 0;
            border: 0;
            width: 100%;
        }

        /* 평상시 탭 호버 스타일 */
        .nav-tabs .nav-link:hover {
            background-color: #fff;
            color: #333;
            outline: none;
            border-radius: 0;
            border: 0;
        }

        /* 눌러졌을 때 탭 스타일 */
        .nav-tabs .nav-link.active {
            background-color: #fff;
            border-bottom: 2px solid black;
            font-weight: bold;
        }

        /* 평상시 리스트 아이템 스타일 */
        .list-group-item {
            border: 1 solid;
            color: #666;
            border-radius: 0;
            width: 100%;
        }

        /* 리스트 아이템 호버 스타일 */
        .list-group-item:hover {
            background-color: #e9ecef;
            border: 0 solid;
            border-radius: 0;
            color: #333;
        }

        /* 활성화된 리스트 아이템 스타일 */
        .list-group-item.active {
            background-color: #666;
            border: 0 solid;
            border-radius: 0;
            color: white;
        }
    </style>
</head>
<body>
<!-- 네비가 추가 됨 -->
<div th:replace="camp/campNavi::topNaviBasecamp"></div>
<div th:replace="camp/campNavi::bottomNaviBasecamp"></div>
<div class="main">
    <div class="container-fluid">
        <!-- 상단 이미지 섹션 -->
        <div class="row px-0" style="margin-top: 2.661em;">
            <div class="col bg-white border-top">
                <div class="row">
                    <div class="col">
                        <div id="carousel" class="carousel slide row p-0" data-bs-ride="carousel">
                            <div class="carousel-inner p-0">
                              <!-- 이미지 탬플릿 -->
                              <div class="carousel-item" th:each="mainImage, iterStat : ${session.campsiteUser.mainImages}" th:classappend="${iterStat.index == 0} ? 'active'">
                                  <img th:src="'/images/' + ${mainImage.location}" class="d-block w-100 p-0" alt="메인이미지" style="height: 20em;">
                              </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- 나머지 헤더 섹션 -->
        <div class="row px-0">
            <div class="col bg-white border-top">
                <div class="row px-3">
                    <div class="col p-0">
                        <div class="row mt-2 new-fs-9">
                            <div class="col-auto text-end">
                                <span class="new-fs-8 text-secondary pe-1" >마일리지 사용가능 &#183; 반려동물 동반 &#183; 빈자리 알림</span>
                            </div>
                        </div>
                        <div class="row mt-1 align-iteps-center justify-content-between">
                            <div class="col ellipsis">
                                <span class="fs-5 fw-semibold" th:text="${session.campsiteUser.dto.camp_name}">캠핑장 이름 솰라솰라솰라솰라솰라솰라솰라솰라</span>
                            </div>
                            <div class="col-auto">
                                <i class="bi bi-bookmark fs-5"></i>
                            </div>
                        </div>
                        <div class="row mt-1 align-iteps-center">
                            <div class="col text-secondary">
                                <div class="row new-fs-8">
                                    <div class="col-1 text-end">
                                        <i class="bi bi-phone"></i>
                                    </div>
                                    <div class="col-auto ps-0 ">
                                        <span th:text="${session.campsiteUser.dto.camp_phone}">연락처</span>
                                    </div>
                                </div>
                                <div class="row mt-1 new-fs-8">
                                    <div class="col-1 text-end">
                                        <i class="bi bi-signpost-2"></i>                               
                                    </div>
                                    <div class="col ps-0">
                                        <span class="new-fs-8" th:text="${session.campsiteUser.dto.address} +' '+ ${session.campsiteUser.dto.detail_address}">주소</span>     
                                        <span class="ps-2 new-fs-8 lightFont" onclick="displayMap()">지도보기<i class="bi bi-chevron-right"></i></span>
                                    </div>
                                </div>

                                <!-- <div class="row fs-5 justify-content-end">
                                    <div class="col-auto p-0">
                                        <i class="bi bi-star fs-5"></i>
                                    </div>
                                    <div class="col-auto p-0 mx-2 text-start">
                                        0
                                    </div>
                                </div> -->
                            </div>
                          
                        </div>
                        <div class="row mt-3 mb-3 justify-content-between">
                            <div class="col-auto pe-2">
                                <span class="fs-5 fw-semibold lightFont moneyInput" th:text="${session.campsiteUser.minPrise}"></span>
                                <span class="fw-semibold"> 원</span>
                            </div>
                            <div class="col-auto">

                            </div>
                        </div>
                        <!-- <div class="row mt-2 border-top py-2 pb-5">
                            <div class="col badgeList">
                                <span class="badge text-bg-secondary me-1" th:each="showCategory: ${session.campsiteUser.showCategory}" th:text="${showCategory.name}">카테고리</span>
                            </div>
                        </div> -->
                        <div class="row py-2">
                            <!-- <div class="col badgeList"></div> -->
                        </div>
                    </div>
                </div>
            </div>
            
       </div>
       <div class="row sticky-custom nav nav-tabs bg-white" id="myTab" role="tablist">
            <div class="col nav-item" role="presentation">
                <button class="nav-link active" id="info-tab" data-bs-toggle="tab" data-bs-target="#info-tab-pane" type="button" role="tab" aria-controls="info-tab-pane" aria-selected="true">정보</button>
            </div>
            <div class="col nav-item" role="presentation">
                <button class="nav-link" id="site-tab" data-bs-toggle="tab" data-bs-target="#site-tab-pane" type="button" role="tab" aria-controls="site-tab-pane" aria-selected="false">구역</button>
            </div>
            <div class="col nav-item" role="presentation">
                <button class="nav-link" id="review-tab" data-bs-toggle="tab" data-bs-target="#review-tab-pane" type="button" role="tab" aria-controls="review-tab-pane" aria-selected="false">리뷰</button>
            </div>
        </div>

       <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="info-tab-pane" role="tabpanel" aria-labelledby="info-tab" tabindex="0">
                <!-- 기본 정보 -->
                <div class="row mt-3 flex-column border-bottom border-5 pb-5">
                        <div class="col">
                            <span class="fw-semibold fs-5">기본 정보</span>
                        </div> 
                        <div class="col mt-4 new-fs-9">
                            <span class="text-secondary" th:utext="${session.campsiteUser.dto.description}">설명이 들어가는 곳</span>
                        </div>
                </div>
                <!-- 운영정책 -->
                <div class="row flex-column mt-3 border-bottom border-5 pb-5">
                        <div class="col">
                            <span class="fw-semibold fs-5">운영 정책</span>
                        </div> 
                        <div class="col mt-4 new-fs-9">
                            <div class="row">
                                <div class="col-4 pe-0 text-start">
                                    <span class="text-secondary fw-semibold">빈자리 알림</span>
                                </div>
                                <div class="col-auto ps-0">
                                    <span class="text-secondary ps-2">X</span>
                                </div>
                            </div>

                            <div class="row mt-2">
                                <div class="col-4 pe-0 text-start">
                                    <span class="text-secondary fw-semibold">마일리지 사용</span>
                                </div>
                                <div class="col-auto ps-0">
                                    <span class="text-secondary ps-2">X</span>
                                </div>
                            </div>

                            <div class="row mt-2">
                                <div class="col-4 pe-0 text-start">
                                    <span class="text-secondary fw-semibold">자리 양도가능</span>
                                </div>
                                <div class="col-auto ps-0">
                                    <span class="text-secondary ps-2">X</span>
                                </div>
                            </div>

                            <div class="row mt-2 text-secondary">
                                <div class="col-4 pe-0 text-start">
                                    <span class="fw-semibold">매너 타임</span>
                                </div>
                                <div class="col-auto ps-0">
                                    <span class="ps-2">시작</span><span class="ps-1" th:text="${#dates.format(session.campsiteUser.dto.manner_start, 'HH:mm')}"></span>
                                    <span class="ps-3">종료</span><span class="ps-1" th:text="${#dates.format(session.campsiteUser.dto.manner_end, 'HH:mm')}"></span>
                                </div>
                            </div>

                            <div class="row mt-2 text-secondary">
                                <div class="col-4 pe-0 text-start">
                                    <span class="fw-semibold">입실/퇴실</span>
                                </div>
                                <div class="col-auto ps-0">
                                    <span class="ps-2">입실</span><span class="ps-1" th:text="${#dates.format(session.campsiteUser.dto.check_in, 'HH:mm')}"></span>
                                    <span class="ps-3">퇴실</span><span class="ps-1" th:text="${#dates.format(session.campsiteUser.dto.check_out, 'HH:mm')}"></span>
                                </div>
                            </div>
                        </div>
                </div>

                <!-- 시설이용 / 환불 안내 -->
                <div class="row mt-3">
                    <div class="col">
                        <span class="fw-semibold fs-5">예약 안내</span>
                    </div>
                </div>
                <div class="row mt-2 border-bottom border-5 pb-5">
                <div class="col" th:utext="${session.campsiteUser.dto.notice}"></div>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        <span class="fw-semibold fs-5">시설 이용 안내</span>
                    </div>
                </div>
                <div class="row mt-2 border-bottom border-5 pb-5">
                <div class="col" th:utext="${session.campsiteUser.dto.facility_notice}"></div>
                </div>
                <div class="row mt-3">
                    <div class="col">
                        <span class="fw-semibold fs-5">환불 안내</span>
                    </div>
                </div>
                <div class="row mt-2 border-bottom border-5 pb-5">
                <div class="col" th:utext="${session.campsiteUser.dto.refund_notice}"></div>
                </div>
                <!-- <div class="row mt-3">
                        <div class="col">
                            <span class="fw-semibold fs-5">안내 사항</span>
                        </div>
                    </div>
                <div class="row mt-2 border-bottom border-5 pb-5">
                    <div class="col pe-1 text-center mt-3">
                        <div class="list-group row" id="list-tab" role="tablist" style="font-size: 1.1em;">
                            <a class="col-4 list-group-item list-group-item-action rounded-0 active" id="list-notice-list" data-bs-toggle="list" href="#list-notice" role="tab" aria-controls="list-notice">예약 안내</a>
                            <a class="col-4 list-group-item list-group-item-action" id="list-facility-list" data-bs-toggle="list" href="#list-facility" role="tab" aria-controls="list-facility">시설 안내</a>
                            <a class="col-4 list-group-item list-group-item-action rounded-0" id="list-refund-list" data-bs-toggle="list" href="#list-refund" role="tab" aria-controls="list-refund">환불 정책</a>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="tab-content mt-3 new-fs-9" id="nav-tabContent">
                                    <div class="tab-pane fade show active" id="list-notice" role="tabpanel" aria-labelledby="list-notice-list" th:utext="${session.campsiteUser.dto.notice}">...</div>
                                    <div class="tab-pane fade" id="list-facility" role="tabpanel" aria-labelledby="list-facility-list"         th:utext="${session.campsiteUser.dto.facility_notice}">...</div>
                                    <div class="tab-pane fade" id="list-refund" role="tabpanel" aria-labelledby="list-refund-list"             th:utext="${session.campsiteUser.dto.refund_notice}">...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->
                
            </div>

            <div class="tab-pane fade" id="site-tab-pane" role="tabpanel" aria-labelledby="site-tab" tabindex="0">
                <!-- 배치도 -->
                <div class="row mt-3 flex-column border-bottom border-5 pb-5">
                    <div class="col">
                        <span class="fw-semibold fs-5">배치도</span>
                    </div> 
                    <div class="col mt-4">
                        <img class="img-fluid rounded-3 originImage" th:src="'/images/' + ${session.campsiteUser.dto.map_image}" alt="배치도" style="width: 100%; height: 16em;">
                    </div>
                </div>

                <!-- 시설 정보 -->
                <div class="row flex-column mt-3 border-bottom border-5">
                    <div class="col">
                        <span class="fw-semibold fs-5">시설</span>
                    </div> 
                    <div class="col mt-4 pb-3 new-fs-9 scroll-horizontal">
                        <div class="facility py-2 pe-2" th:each="category : ${session.campsiteUser.campCategory}">
                            <img class="img-fluid" th:src="${category.image}" alt="" style="height: 2.5em; width: 2.5em;">
                            <div class="col-auto" th:text="${category.name}"></div>
                        </div>
                    </div>
                </div>

                <!-- 구역 리스트 -->
                <div class="row mt-3  flex-column border-bottom border-5 pb-5">
                    <div class="col">
                        <span class="fw-semibold fs-5">구역</span>
                    </div>
                    <div class="col mt-4">
                        <div class="row">
                            <div class="col-auto pe-0">
                                <button class="btn btn-outline-secondary rounded-5" data-bs-toggle="modal" data-bs-target="#popupSelectDay">날짜선택</button>
                            </div>
                            <div class="col-auto pe-0">
                                <button class="btn btn-outline-secondary rounded-5" data-bs-toggle="modal" data-bs-target="#popupAreaCategory">카테고리</button>
                            </div>
                        </div>
                        <div class="row my-2 pb-5">
                            <div class="col mt-4" id="areaLists">
                                <div th:id="'siteTemplate_' + ${area.dto.id}" class="row border-bottom py-3 justify-content-center" data-bs-toggle="modal" data-bs-target="#popupSite" th:onclick="'selectArea(' + ${area.dto.id} + ')'" th:each="area : ${session.campsiteUser.area}">
                                    <div class="col">
                                        <div class="row">
                                            <div class="col" th:unless="${area.mainImages.isEmpty()}">
                                                <img class="img-fluid rounded-3" th:src="${'/images/' + area.mainImages[0].location}" alt="메인 이미지" style="object-fit: cover; object-position: center; width: 100%; height: 16em;">
                                            </div>
                                        </div>
                                        <div class="row mt-2 justify-content-between">
                                            <div class="col fw-semibold text-start fs-5">
                                                <span th:text="${area.dto.name}">구역 이름</span>
                                            </div>                                          
                                            <div class="col-auto fw-semibold lightFont fs-5">
                                                <span class="moneyInput" th:text="${area.dto.prise}">금액</span>
                                                <span class="ms-1">원</span>
                                            </div>
                                        </div>
                                      
                                        <div class="row mt-3 siteCategoryList">
                                            <div class="col pe-0 badgeList">
                                                <span class="badge rounded-pill border text-bg-light text-body-tertiary me-1" th:each="selectCategory : ${area.category}" th:text="${selectCategory.name}">카테고리</span>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                            </div> 
                        </div> 
                    </div>
                </div>
                
            </div>

            <div class="tab-pane fade" id="review-tab-pane" role="tabpanel" aria-labelledby="review-tab" tabindex="0">
                <div class="row mt-3">
                    <span class="fw-semibold fs-5">리뷰</span>
                </div>
                <div class="row py-1">
                    <div class="col" th:if="${isAlreadyOrdered}">
                        <div class="row mt-2 border-bottom pb-2" th:unless="${isAlreadyReviewed}">
                            <div class="col">
                                <div class="row">
                                    <div class="col new-fs-8 text-secondary">리뷰를 작성하실 수 있습니다!</div>
                                </div>

                                <form action="/camp/registerReviewProcess" method="post">
                                <div class="row my-2">
                                        <input type="hidden" name="user_id" th:value="${session.sessionUserInfo.id}">
                                        <input type="hidden" name="campsite_id" th:value="${session.campsiteUser.dto.id}">
                                        <div class="col">
                                            <textarea class="form-control" name="content" id="write_review" row="6"></textarea>
                                        </div>
                                </div>
                                <div class="row justify-content-end pb-2">
                                    <div class="col-auto">
                                        <button class="btn btn-bc-dark rounded-0">리뷰 작성</button>
                                    </div>
                                </div>
                            </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col" id="reviewList">
                        <div class="row border-bottom py-2 pb-4" th:if="${session.campsiteUser.review.size() <= 0}">
                            <div class="col text-secondary new-fs-9">리뷰가 존재하지 않습니다.</div></div>
                                <div class="row border-bottom py-2 pb-4" th:each="review : ${session.campsiteUser.review}">
                                    <div class="col">
                                        <div class="row align-iteps-center">
                                            <div class="col-auto">
                                            <img class="img-fluid rounded-circle border" th:src="|/images/${review.profile_image}|" alt="" style="width: 2em; height: 2em;">
                                            </div>
                                            <div class="col mt-1 fw-semibold" th:text="${review.nickname}">
                                                사용자 1
                                            </div>
                                        </div>

                                        <div class="row mt-2">
                                            <div class="col" th:utext="${review.content}">리뷰 내용</div>
                                        </div>
                                        
                                        <div class="row mt-3">
                                            <div class="col new-fs-75 text-end text-secondary" th:text="${#dates.format(review.created_at, 'YYYY-MM-dd')}">리뷰 작성일</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row py-2 bg-dark-subtle text-white text-center f09">
                    <form id="logoutForm" action="/user/logoutProcess" class="col fw-bold border-end">
                        <button class="border-0 bg-transparent text-white fw-bold">
                            <span th:if="${session.sessionUserInfo != null}">로그아웃</span>
                            <span th:if="${session.sessionUserInfo == null}">로그인</span>
                        </button>
                    </form>
                    <div class="col fw-bold border-end">
                        고객센터
                    </div>
                    <div class="col fw-bold">
                        NEWS
                    </div>
                </div>
                <div class="row py-4 px-3 bg-body-secondary text-secondary">
                    <div class="col">
                        <div class="row pb-2">
                            <div class="col-auto p-0">
                                <span class="material-symbols-outlined f20">
                                    camping
                                </span>
                            </div>
                            <div class="col p-0 fw-bold fs-3">
                                <span>&nbsp;BASECAMP</span>
                            </div>
                        </div>
                        <div class="row pb-3 border-bottom border-2">
                            <div class="col p-0 f08">
                                BASECAMP는 통신판매 중개자로서 통신판매의 당사자가 아니며 상품의 예약, 이용 및 환불 등과 관련한 의무와 책임은 각 판매자에게 있습니다.
                            </div>
                        </div>
        
                        <div class="row pt-3 py-3 border-bottom border-2">
                            <div class="col-auto p-0">
                                <button class="btn btn-sm bg-dark-subtle text-white fw-bold f08 d-flex align-items-center">
                                    <span class="material-symbols-outlined f12">
                                        phone_in_talk
                                    </span>
                                    <span>&nbsp;고객센터</span>
                                </button>
                            </div>
                            <div class="col-auto">
                                <button class="btn btn-sm bg-dark-subtle text-white fw-bold f08">
                                    카카오 1:1 문의
                                </button>
                            </div>
                            <div class="col p-0 f08">
                                <div class="row">
                                    <div class="col">
                                        <span>평일</span> : 10:00 ~ 17:00
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <span>점심</span> : 12:00 ~ 13:00
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        * 주말 공휴일 휴무
                                    </div>
                                </div>
                            </div>
                        </div>
        
                        <div class="row pt-3 align-items-center">
                            <div class="col-auto me-2 bg-dark-subtle rounded-circle d-flex align-items-center" style="aspect-ratio: 1/1;">
                                <i class="bi bi-google-play"></i>
                            </div>
                            <div class="col-auto me-2 bg-dark-subtle rounded-circle d-flex align-items-center" style="aspect-ratio: 1/1;">
                                <i class="bi bi-youtube"></i>
                            </div>
                            <div class="col-auto me-2 bg-dark-subtle rounded-circle d-flex align-items-center" style="aspect-ratio: 1/1;">
                                <i class="bi bi-instagram"></i>
                            </div>
                            <div class="col-auto pe-0 f08">
                                이용약관
                            </div>
                            <div class="col f08">
                                개인정보처리방침
                            </div>
                        </div>
                        <div class="row py-5"></div>
                        <div class="row py-2"></div>
                    </div>
                </div>
                <div class="row py-3"></div>
            </div>
            </div>
        </div>
    </div>
</div>
<div class="container fixed-bottom">
    <div class="row  border-top bg-white py-2 px-3 justify-content-center" style="margin-bottom: 5.15em;">
        <div class="col p-0 d-grid">
            <a class="btn btn-bc-dark rounded-0 py-2" href="/camp/reservation">예약하기</a>
        </div>
    </div> 
</div>
<div th:replace="camp/campNavi::bottomNaviOffCanvas"></div>



<!-- 사이트 모달 -->
<div class="modal fade container-fluid" id="popupSite" tabindex="-1" aria-labelledby="popupSite-title" data-keyboard="true" data-backdrop="static" aria-hidden="true" style="height: 87.5%;">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" >구역 상세 보기</h1>
            </div>
            <div id="popupSite-content" class="modal-body">
                <div class="col p-0">
                    <div class="row">
                        <div class="col p-0">
                            <div class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-inner" id="area_mainImages">
                                    <!-- 이미지 탬플릿 -->
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 기본 정보 -->
                    <div class="row mt-2">
                        <div class="col pe-0" id="area_categoryList">
                            <span class="badge rounded-pill border new-fs-75 text-bg-light text-body-tertiary me-1">카테고리</span>
                        </div>
                    </div>
                    <div class="row mt-2 fs-5">
                        <div class="col fw-semibold" id="area_name">이름</div>
                    </div>
                    <div class="row new-fs-75 text-body-tertiary">
                        <div class="col">규격: <span id="area_size">크기</span></div>
                    </div>
                    <div class="row my-2">
                        <div class="col-auto fw-semibold fs-5">
                            <span id="area_prise" class="moneyInput lightFont">가격</span>
                            <span>원</span>
                        </div>
                    </div>
                    <div class="row mt-3 text-end text-secondary new-fs-9 border-bottom border-5 pb-3">
                        <div class="col-1 text-start"><i class="bi bi-people-fill"></i></div>
                        <div class="col-auto text-start"><span id="area_people"></span></div>
                        <div class="col-auto p-0">&#183;</div>
                        <div class="col-1 text-start"><i class="bi bi-car-front-fill"></i></div>
                        <div class="col-auto text-start"><span id="area_car">1 대</span></div>
                    </div>

                     <!-- 배치도 -->
                    <div class="row mt-3 flex-column border-bottom border-5 pb-5">
                        <div class="col">
                            <span class="fw-semibold">구역 안내</span>
                        </div> 
                        <div class="col mt-2">
                            <img id="area_mapImage" class="img-fluid rounded-3 originImage" src="/public/img/clubImage/mountain.jpg" alt="">
                        </div>
                        <div class="col new-fs-95" id="area_description">설명</div>
                    </div>

                    <!-- 추가 요금 -->
                    <div class="row mt-3 flex-column pb-3">
                        <div class="col">
                            <span class="fw-semibold">추가 요금</span>
                        </div> 
                        <div class="col mt-2 ps-2">
                            <div class="row text-secondary new-fs-9">
                                <div class="col-6 fw-semibold "><span>성인 추가요금 (인당)</span></div>
                                <div class="col p-0 text-start"><span class="moneyInput" id="area_add_adult">5000</span><span class="ps-2">원</span></div>
                            </div>
                            <div class="row text-secondary new-fs-9">
                                <div class="col-6 fw-semibold "><span>미성년 추가요금 (인당)</span></div>
                                <div class="col p-0 text-start"><span class="moneyInput" id="area_add_kid">5000</span><span class="ps-2">원</span></div>
                            </div>
                            <div class="row text-secondary new-fs-9">
                                <div class="col-6 fw-semibold "><span>차량 추가요금</span></div>
                                <div class="col p-0 text-start"><span class="moneyInput" id="area_add_car">5000</span><span class="ps-2">원</span></div>
                            </div>
                        </div>
                        <div class="col mt-4 new-fs-75">
                            <span>추가요금은 기본 인원(차량)수보다 초과한 경우, 초과한 수만큼 부과됩니다.</span>
                        </div>
                    </div>
                </div>
               

              
            </div>
            <div class="modal-footer">
                <div class="col d-grid"> <button id="popupSite-reservation" type="button" class="btn btn-bc-dark rounded-0" onclick="reservation()">예약하기</button></div>
                <div class="col d-grid"> <button id="popupSite-no" type="button" class="btn btn-bc-outline-dark rounded-0" data-bs-dismiss="modal">닫기</button></div>
            </div>
        </div>
    </div>
</div>



<!-- 지도 모달 -->
<div class="modal fade container-fluid" id="popupMap" tabindex="-1" aria-labelledby="popupMap-title" data-keyboard="true" data-backdrop="static" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="popupMap-title">캠핑장 위치</h1>
            </div>
            <div id="popupMap-content" class="modal-body col">
                <div class="row px-2">
                    <div id="map" class="col" style="height: 16em;"></div>
                </div>
                <div class="row mt-2">
                    <div class="col">
                        <span class="fw-semibold">주소</span>
                        <div class="text-secondary" th:text="${session.campsiteUser.dto.address} + ' ' + ${session.campsiteUser.dto.detail_address}"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="col d-grid">
                    <button id="popupMap-no" type="button" class="rounded-0 btn btn-bc-dark" data-bs-dismiss="modal">닫기</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 네비가 추가됨 -->
<div th:replace="camp/campNavi::popupAreaCategory"></div>
<div th:replace="camp/campNavi::popupSelectDay"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/7b271bba58.js" crossorigin="anonymous"></script>
<script src="/public/js/mapUtil.js"></script>
    
<script>
    createRangeCalendar('selectDay',7, yearsAgo(1));
    
    
    function reservation() {
        location.href ='/camp/reservation?area_id=' + curArea.dto.id;
    }
    function displayMap(){
        bootstrap.Modal.getOrCreateInstance('#popupMap').show();
        
    }
    document.getElementById('popupMap').addEventListener('shown.bs.modal', function () {
       const curCampsite = selectCamp();
       const map = curCampsite.dto.address;
       showMap(map);
    });   
    addColonMoneyInput();
    openOriginalInNewWindow();

</script>

</body>
</html>
