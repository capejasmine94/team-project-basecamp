<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org:">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>차량 상세 페이지</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
     <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link href="/public/css/common.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        .carousel-item {
            width: 100%;
            height: 100%;
        }
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            background-color: #f0f0f0; /* 배경색 추가 (필요 시) */
        }
        .section {
            margin-bottom: 5px;
            padding: 16px;
            background-color: #fff;
            border: 1px solid #e0e0e0;
        }
        .section img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
        }
        .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .section-text {
            font-size: 14px;
            color: #888;
            margin-bottom: 8px;
        }
        .highlight-text {
            color: #ff5e57;
            font-weight: bold;
        }
        .final-price {
            font-size: 24px;
            font-weight: bold;
            color: #007aff;
            text-align: center;
            margin-bottom: 16px;
        }
        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 16px 0;
            font-size: 14px;
        }
        .info-item:last-child {
            border-bottom: none;
        }
        .info-item-title {
            color: #333;
            font-weight: bold;
        }
        .info-item-value {
            color: #555;
        }
        .nav-underline {
        display: flex;
        flex-wrap: nowrap;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 8px;
        }

        .nav-underline::-webkit-scrollbar {
            display: none; /* 웹킷 브라우저에서 스크롤바 숨기기 */
        }

        .nav-underline {
            -ms-overflow-style: none;
            scrollbar-width: none; 
        }

        .nav-item {
            flex: 0 0 auto;
        }

        .nav-link {
            white-space: nowrap;
            margin-right: 8px;
            text-decoration: none;
            color: black;
            position: relative; /* 상대적 위치 설정으로 자식 요소에 절대 위치를 지정할 수 있도록 함 */
        }

        .nav-link.active {
            font-weight: bold;
            color: black !important;
            background-color: transparent !important;
        }
    </style>
</head>
<body class="bg-body-tertiary">
    <div class="container-fluid px-0">
        <div class="row fixed-top bg-white align-items-center py-2 border-bottom">
            <div class="col-auto ps-3">
                <i class="bi bi-chevron-left" onclick="history.back();" style="cursor: pointer;"></i>
            </div>
            <div class="col text-center">
                <div class="mb-0 fw-semibold" style="font-size: 16px;">예약 정보</div>
            </div>
            <div class="col-auto">
            </div>
        </div>
    </div>
    <form  method="post" enctype="multipart/form-data">
        <div class="container">
            <div class="row">
                <div class="col section">
                    <div class="row new-mt-45 pb-3">
                        <div class="col">
                            <div class="row">
                                <div class="col fw-medium">
                                    <span class="new-fs-8 bg-body-secondary badge text-body-secondary material-symbols-outlined">rv_hookup<span class="new-fs-65"th:text="${campingcarDetails.campingcarDto.car_type_name}">모터홈</span></span>
                                </div>
                            </div>
                            <div class="row pt-2">
                                <div class="col">
                                    <span class="fw-bold fs-5" th:text="${campingcarDetails.campingcarDto.product_name}"></span>
                                </div>
                            </div>
                            <div class="row form-group">
                                <div class="col py-4">
                                    <div class="row">
                                        <div class="col">
                                            <div class="border border-0">
                                                <!-- 출고 가능 시간 -->
                                                <div class="d-flex flex-column justify-content-center align-items-start p-1" style="flex: 1; border-left: none;border-right: none; border-top: none; border-bottom: none;">
                                                    <label for="datetime" class="fw-semibold pb-2" style="font-size: 0.85rem">대여날짜</label>
                                                    <input name="start_date" type="datetime-local" id="datetime" max="2077-06-20T21:00" min="2024-08-07T12:30" svalue="2077-06-15T13:27" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <row>
                                        <div class="col">
                                            <div class="border border-0">
                                                <!-- 반납 가능 시간 -->
                                                <div class="d-flex flex-column justify-content-center align-items-start p-1" style="flex: 1; border-left: none;border-right: none; border-top: none; border-bottom: none;">
                                                    <label for="datetime" class="text-start fw-semibold pb-2" style="font-size: 0.85rem">반납날짜</label>
                                                    <input name="end_date"type="datetime-local" id="datetime" max="2077-06-20T21:00" min="2024-08-07T12:30" svalue="2077-06-15T13:27" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </row>
                                    
                                </div>
                                
                            </div>
                            <!-- 렌트카 회사 정보 -->
                            <div class="row">
                                <div class="col">
                                    <div class="row ps-3 mb-3">
                                        <div class="col-2 d-flex align-items-center info-item">
                                            <span class="info-item-title">차량정보</span>
                                        </div>
                                        <div class="col">
                                            <div class="d-flex flex-wrap">
                                                <span class="me-3" th:text="${campingcarDetails.campingcarDto.driver_license_name}"></span>
                                                <span class="me-3" th:text="${campingcarDetails.campingcarDto.driver_age_condition_name}"></span>
                                                <span class="me-3" th:text="${campingcarDetails.campingcarDto.driver_experience_condition_name}"></span>
                                                <span class="me-3" th:text="'동승인원 ' + ${campingcarDetails.campingcarDto.seating_capacity} + '명'"></span>
                                                <span class="me-3" th:text="'취침인원 ' + ${campingcarDetails.campingcarDto.sleeping_capacity} + '명'"></span>
                                                <span class="me-3" th:text="'반려동물 ' + ${campingcarDetails.campingcarDto.pet_friendly}"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row ps-3">
                                        <div class="col-2 d-flex align-items-center info-item">
                                            <span class="fw-bold info-title">차량옵션</span>
                                        </div>
                                        <div class="col">
                                            <div class="d-flex flex-wrap align-items-center">
                                                <!-- 이 부분이 수정된 부분입니다 -->
                                                <span class="d-flex align-items-center pe-2 mb-2" th:each="facility : ${facilities}">
                                                    <span th:text="${facility.name}"></span>
                                                </span>      
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <input type="hidden" th:value="${campingcarDetails.campingcarDto.id}" name="product_id">
        <div class="container">
            <!-- 최초 고객 일 때, isRentUser가 false이면 실행 -->
            <div class="row section" th:if="${!isRentUser}">
                <div class="col form-group px-1 0mx-0">
                    <div class="row">
                        <div class="col section-title">
                            <span class="fs-5 fw-semibold">예약자 정보</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="driver_number" class="control-label new-fs-85 fw-semibold pb-1" style="font-size: 0.875rem;">운전자면허증 번호</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col pb-4">
                            <input name="driver_license_number"  type="text" class="form-control" placeholder="운번자면허증 번호를 입력해주세요" id="driver_number">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="driver_license_condition" class="control-label new-fs-85 fw-semibold pb-1" style="font-size: 0.875rem;">운전자 면허 종류</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col pb-4">
                            <select class="form-select" aria-label="Default select example" id="driver_license_condition" name="driver_license_id">
                                <option th:value="'selectPlease'" th:text="'운전자 면허증 선택'"></option>
                                <option th:each="driverLicenseDto : ${driverLicense}" 
                                        th:value="${driverLicenseDto.id}" 
                                        th:text="${driverLicenseDto.name}">
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="driver_age_condition" class="control-label new-fs-85 fw-semibold pb-1" style="font-size: 0.875rem;">운전자 최소 연령</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col pb-4">
                            <select class="form-select" aria-label="Default select example" id="driver_age_condition" name="driver_age_id">
                                <option th:value="'selectPlease'" th:text="'운전자 최소 연령 선택'"></option>
                                <option th:each="driverAgeCondDto : ${driverAge}" 
                                        th:value="${driverAgeCondDto.id}" 
                                        th:text="${driverAgeCondDto.name}">
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="driver_experience_condition" class="control-label new-fs-85 fw-semibold pb-1" style="font-size: 0.875rem;">운전자 운전 경력</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col pb-4">
                            <select class="form-select" aria-label="Default select example" id="driver_experience_condition" name="driver_experience_id">
                                <option th:value="'selectPlease'" th:text="'운전자 운전 경력 선택'"></option>
                                <option th:each="driverExpericneceConDto : ${driverExpericnece}" 
                                        th:value="${driverExpericneceConDto.id}" 
                                        th:text="${driverExpericneceConDto.name}">
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <label for="driverFile" class="form-label new-fs-85 fw-semibold pb-1" style="font-size: 0.875rem;">운전 면허증 사진</label>
                        </div>
                    </div>
                    <div class="row pb-4" style="padding-left: 0.75rem; padding-right: 0.75rem;">
                        <input class="form-control" type="file" id="driverFile" style="font-size: 0.875rem;" placeholder="운전면허증을 등록하세요" name="driveImage" accept="image/*">
                        </div>
                    </div>
                    
                    <div class="row mx-0 px-1">
                        <div class="col border p-4 rounded text-center bg-white">
                            <div class="row">
                                <div class="col">
                                    <div class="d-flex justify-content-center align-items-center text-center">
                                        <span class="material-symbols-outlined" style="font-size: 48px;">person_apron</span>
                                        <span class="text-warning pe-2" style="font-size: 48px;padding-bottom: 0.55rem;">+</span>
                                        <span class="material-symbols-outlined" style="font-size: 48px;">id_card</span>
                                    </div>
                                    <div class="fw-medium new-fs-65">캠핑카 대여시, 운전자는 운전면허증을 꼭 지참해주세요</div>
                                    <div class="fw-light new-fs-6 text-muted">면허증 확인 및 계약서 작성이 필요합니다.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mx-0 px-1" th:unless="${!isRentUser}">
                <div class="col border p-4 rounded text-center bg-white">
                    <div class="row">
                        <div class="col">
                            <div class="d-flex justify-content-center align-items-center text-center">
                                <span class="material-symbols-outlined" style="font-size: 48px;">person_apron</span>
                                <span class="text-warning pe-2" style="font-size: 48px;padding-bottom: 0.55rem;">+</span>
                                <span class="material-symbols-outlined" style="font-size: 48px;">id_card</span>
                            </div>
                            <div class="fw-medium new-fs-65">캠핑카 대여시, 운전자는 운전면허증을 꼭 지참해주세요</div>
                            <div class="fw-light new-fs-6 text-muted">면허증 확인 및 계약서 작성이 필요합니다.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row section">
                <div class="col">
                    <div class="row">
                        <div class="col">
                            <div class="row">
                                <div class="col">
                                    <div class="fs-5">자동차 보험</div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col info-item">
                                    <div class="info-item-title ps-3">대인/대물/자손 보상한도 및 자가부담금</div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <table class="table border">
                                        <thead class="text-center fw-normal">
                                            <tr>
                                            <th scope="col">구분</th>
                                            <th scope="col">보상한도</th>
                                            <th scope="col">자기부담금</th>
                                            </tr>
                                        </thead>
                                        <tbody class="text-center">
                                            <tr>
                                            <td>대인1·2</td>
                                            <td>무한</td>
                                            <td>50만원</td>
                                            </tr>
                                            <tr>
                                            <td>대물</td>
                                            <td>최대2,000만원</td>
                                            <td>50만원</td>
                                            </tr>
                                            <tr>
                                            <td>자손</td>
                                            <td>최대1,500만원</td>
                                            <td>50만원</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <div class="text-muted new-fs-65">보험은 현장에서 작성하는 계약서를 기준으로 적용합니다.</div>
                                    <div class="text-muted new-fs-65">반드시 계약서를 확인해주시기 바랍니다.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col pt-3">
                            <span class="fw-semibold text-muted new-fs-75">위 내용을 모두 확인하였으며, 예약 하기 버튼을 눌러주세요</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row section d-flex justify-content-center">
                <div class="col d-grid">
                    <div th:if="${!isRentUser}">
                        <button class="btn btn-dark btn-lg fw-bold" formaction="/campingcar/reservationProcess" style="color: #C6ED6F;">예약하기</button>
                    </div>
                    <div th:unless="${!isRentUser}">
                        <button class="btn btn-dark btn-lg fw-bold" formaction="/campingcar/existingRentUserReservationProcess" style="color: #C6ED6F;">예약하기</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
       


    <!-- 부트스트랩 JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
</body>
</html>
