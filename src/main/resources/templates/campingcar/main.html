<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org:">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/7b271bba58.js" crossorigin="anonymous"></script>
    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

    <link href="/public/css/common.css" rel="stylesheet">
    <style>
        .carousel-inner img {
            height: 550px; /* ì´ë¯¸ì§€ ë†’ì´ ì¡°ì • */
        }
        .rounded-top-only {
            border-top-left-radius: 30px; /* ìƒë‹¨ ì¢Œì¸¡ ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            border-top-right-radius: 30px; /* ìƒë‹¨ ìš°ì¸¡ ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            border-bottom-left-radius: 0; /* í•˜ë‹¨ ì¢Œì¸¡ ëª¨ì„œë¦¬ ë‘¥ê¸€ì§€ ì•Šê²Œ */
            border-bottom-right-radius: 0; /* í•˜ë‹¨ ìš°ì¸¡ ëª¨ì„œë¦¬ ë‘¥ê¸€ì§€ ì•Šê²Œ */
        }
        .location img {
            aspect-ratio: 1/1;
            width: 100px;
            object-fit: cover;
            object-position: center;
        }
        .text-on-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(0deg); /* íšŒì „ ì œê±° ë° ì¤‘ì•™ ì •ë ¬ ìœ ì§€ */
            text-align: center; /* í…ìŠ¤íŠ¸ë¥¼ ì¤‘ì•™ ì •ë ¬ */
            font-size: 11px; /* í°íŠ¸ í¬ê¸° ì„¤ì •, í•„ìš”ì— ë”°ë¼ ì¡°ì • */
        }
        .btn-block { /* ë²„íŠ¼ ë ˆì´ì•„ì›ƒ ìœ ì§€ */
            max-width: 100%;
            text-align: left;
            display: inline-block; /* ë²„íŠ¼ì„ ì¸ë¼ì¸ ë¸”ë¡ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ í…ìŠ¤íŠ¸ê°€ ì¤„ë°”ê¿ˆë˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤. */
        }
        .calendar-container {
            text-align: center;
            font-family: Arial, sans-serif;
            overflow-x: hidden;
        }

        .calendar-container table {
            width: 100%;
            border-collapse: collapse; /* í…Œë‘ë¦¬ê°€ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ì„¤ì • */
            margin: 0 auto;
            border: none; /* ì „ì²´ í…Œë‘ë¦¬ ì œê±° */
            table-layout: fixed; /* ëª¨ë“  ì…€ì´ ë™ì¼í•œ í¬ê¸°ë¥¼ ê°€ì§€ë„ë¡ ì„¤ì • */
        }

        .calendar-container th, .calendar-container td {
            padding: 0; /* íŒ¨ë”©ì„ ì œê±°í•˜ì—¬ ì…€ì˜ ë†’ì´ë¥¼ ê³ ì • */
            text-align: center;
            border: none; /* ì…€ í…Œë‘ë¦¬ ì œê±° */
            height: 40px; /* ëª¨ë“  ì…€ì˜ ë†’ì´ë¥¼ ë™ì¼í•˜ê²Œ ì„¤ì • */
        }

        .calendar-container th {
            color: #999;
            font-weight: bold;
            height: 40px; /* í—¤ë” ì…€ì˜ ë†’ì´ë„ ë™ì¼í•˜ê²Œ ì„¤ì • */
            line-height: 40px; /* ìˆ˜ì§ ì •ë ¬ì„ ìœ„í•´ ë¼ì¸ ë†’ì´ ì„¤ì • */
        }

        .calendar-container td {
            cursor: pointer;
        }

        .calendar-container .inactive {
            color: #ccc;
            pointer-events: none;
        }

        .calendar-container .cursor-pointer .date-circle {
            cursor: pointer;
        }

        .calendar-container .selected .date-circle {
            background-color: black;
            color: white;
            border-radius: 50%;
        }

        .calendar-container .today .date-circle {
            border: 2px solid black;
        }

        .calendar-container .cursor-pointer {
            cursor: pointer;
        }

        .calendar-container .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .calendar-container .header button {
            border: none;
            background: none;
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 8px;
        }

        .calendar-container .header button:hover {
            background-color: #f0f0f0;
        }

        .calendar-container .header h4 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .calendar-container .date-circle {
            display: inline-block;
            width: 30px; /* ë‚ ì§œ ì›í˜• í¬ê¸° ì¡°ì • */
            height: 30px; /* ë‚ ì§œ ì›í˜• í¬ê¸° ì¡°ì • */
            line-height: 30px; /* í…ìŠ¤íŠ¸ ìˆ˜ì§ ì •ë ¬ */
            border-radius: 50%;
            text-align: center;
            margin: -2px auto; /* ë‚ ì§œ ê°„ê²© ì¡°ì • ë° ê°€ìš´ë° ì •ë ¬ */
        }

        .calendar-container .text-primary {
            color: #007bff;
        }
    </style>
</head>
<body>
    <!-- topnavi -->
    <div th:replace="~{campingcar/campingNavi::topNavi}"></div>
    <div th:replace="~{campingcar/campingNavi::menuNavi}"></div>
    <div class="container">
        <!-- ìºëŸ¬ì…€ ì„¹ì…˜ -->
        <div class="row">
            <div class="col px-0">
                <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="/public/img/campingCarImage/ë©”ì¸ì´ë¯¸ì§€1.png" class="d-block w-100" alt="ë©”ì¸ì´ë¯¸ì§€1">
                        </div>
                        <div class="carousel-item">
                            <img src="/public/img/campingCarImage/ë©”ì¸ì´ë¯¸ì§€2.jpg" class="d-block w-100" alt="ë©”ì¸ì´ë¯¸ì§€2">
                        </div>
                        <div class="carousel-item">
                            <img src="/public/img/campingCarImage/ë©”ì¸ì´ë¯¸ì§€3.jpg" class="d-block w-100" alt="ë©”ì¸ì´ë¯¸ì§€3">
                        </div>
                        <div class="carousel-item">
                            <img src="/public/img/campingCarImage/ë©”ì¸ì´ë¯¸ì§€4.jpg" class="d-block w-100" alt="ë©”ì¸ì´ë¯¸ì§€4">
                        </div>
                        <div class="carousel-item">
                            <img src="/public/img/campingCarImage/ë©”ì¸ì´ë¯¸ì§€5.jpg" class="d-block w-100" alt="ë©”ì¸ì´ë¯¸ì§€5">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ì§€ì—­ ì¹´í…Œê³ ë¦¬ Img-->
    <div class="container position-relative" style="top: -30px;">
        <div class="row">
            <div class="col px-3 location bg-white rounded-top-only">
                <!-- ì²«ë²ˆì§¸ row -->
                <div class="row">
                    <div class="col text-center font-roboto fw-bold">
                        <div class="p-3 pb-4 bg-white text-dark rounded-top-only">ì›í•˜ì‹œëŠ” ì§€ì—­ì„ ì„ íƒí•´ì£¼ì„¸ìš”</div>
                    </div>
                </div>
                <!-- ë‘ë²ˆì§¸ row -->
                <div class="row px-2 text-center font-roboto">
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ì„œìš¸.jpg" alt="ì„œìš¸Â·ê²½ê¸°" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ì„œìš¸ê²½ê¸°</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ì¸ì²œ.jpg" alt="ì¸ì²œ" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ì¸ì²œ</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ê°•ì›ë„.jpg" alt="ê°•ì›" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ê°•ì›</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ì¶©ë¶.jpg" alt="ì¶©ë¶Â·ëŒ€ì „" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ì¶©ë¶ëŒ€ì „</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ì¶©ë‚¨.jpg" alt="ì¶©ë‚¨Â·ì„¸ì¢…" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ì¶©ë‚¨ì„¸ì¢…</span>
                        </div>
                    </div>
                </div>
                <!-- ì„¸ë²ˆì§¸ row -->
                <div class="row px-2 text-center py-3 font-roboto">
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ê²½ë¶.jpg" alt="ê²½ë¶Â·ëŒ€êµ¬" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ê²½ë¶ëŒ€êµ¬</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ë¶€ì‚°.jpg" alt="ê²½ë‚¨Â·ë¶€ì‚°" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ê²½ë‚¨ë¶€ì‚°</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ì „ë¶.jpg" alt="ì „ë¶" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ì „ë¶</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ì „ë‚¨.png" alt="ì „ë‚¨" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ì „ë‚¨</span>
                        </div>
                    </div>
                    <div class="col">
                        <div class="position-relative d-inline-block">
                            <img src="/public/img/campingCarImage/ì œì£¼ë„.jpg" alt="ì œì£¼" class="img-fluid rounded-circle opacity-50">
                            <span class="text-on-image text-dark fw-bold">ì œì£¼</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ì¼í•‘ì¹´ í•„í„° -->
    <div class="container">
        <div class="row font-roboto">
            <div class="col px-4">
                <div class="row ps-1">
                    <div class="col ps-0 pt-3 text-start">
                        <div class="fs-2 fw-semibold">Camping Car ğŸš™</div>
                    </div>
                </div>
                <!-- ê²€ìƒ‰ í•„í„°1 -->
                <div class="row d-flex justify-content-between align-self-center bg-white pt-3 border border-light-subtle">
                    <!-- ëŒ€ì—¬ ì¥ì†Œ -->
                    <div class="col text-center text-light-emphasis form-group px-1">
                        <div class="row">
                          <div class="col">
                            <i class="fa-solid fa-location-dot"></i><span> ëŒ€ì—¬ ì¥ì†Œ</span>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col py-2 pb-3">
                            <!-- id: ì¥ì†Œì„ íƒ ë²„íŠ¼ ë¬¸êµ¬ë¥¼ ì‚¬ìš©ìê°€ ëª¨ë‹¬ì°½ì—ì„œ ì„ íƒí•œ ì§€ì—­ ì´ë¦„ì„ ë™ì ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” id -->
                            <button class="btn btn-light btn-block border border-0" id="locationDisplay" onclick="showLocationModal()">ì¥ì†Œ ì„ íƒ</button>
                          </div>
                        </div>
                    </div>
                    <!-- ìº í•‘ì¹´ ìœ í˜• -->
                    <div class="col text-center text-light-emphasis form-group">
                        <div class="row">
                            <div class="col">
                                <i class="fa-solid fa-caravan fa-flip-horizontal"></i><span> ìº í•‘ì¹´ ìœ í˜•</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col py-2 pb-3">
                                <button class="btn btn-light btn-block border border-0 ellipsis-line-two" id="carTypeDisplay" onClick="showCarTypeModal()">ìœ í˜• ì„ íƒ</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ê²€ìƒ‰ í•„í„°2 -->
                <div class="row d-flex justify-content-between align-self-center bg-white pt-3 border border-light-subtle">
                    <!-- ëŒ€ì—¬ì¼ -->
                    <div class="col text-center text-light-emphasis form-group">
                        <div class="row">
                            <div class="col">
                                <i class="fa-regular fa-calendar"></i><span> ëŒ€ì—¬ì¼</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col py-2 pb-3">
                                <button type="button" class="btn btn-light btn-block border border-0" id="rendDateDisplay" onclick="showRentDateModal()">ë‚ ì§œ ì„ íƒ 
                                    <i class="fa-solid fa-chevron-down fa-xs"></i></button>
                            </div>
                        </div>
                    </div>
                    <!-- ë°˜ë‚©ì¼ -->
                    <div class="col text-center text-light-emphasis form-group">
                        <div class="row">
                            <div class="col">
                                <i class="fa-regular fa-calendar"></i><span> ë°˜ë‚©ì¼</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col py-2 pb-3">
                                <button type="button" class="btn btn-light btn-block border border-0" id="returnDateDisplay" onclick="showReturnDateModal()">ë‚ ì§œ ì„ íƒ 
                                    <i class="fa-solid fa-chevron-down fa-xs"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ê²€ìƒ‰í•˜ê¸° ë²„íŠ¼ -->
                <div class="row">
                    <div class="col py-3 px-0 d-grid">
                        <button class="btn btn-dark btn-lg fw-bold" style="color: #C6ED6F;">ê²€ìƒ‰í•˜ê¸°</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ìº í•‘ì¹´ ë“±ë¡ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ -->
    <div class="contaimer">
        <!-- ìº í•‘ì¹´ ë“±ë¡ ì°¨ëŸ‰ ë°˜ë³µ ì¶œë ¥ -->
        <div class="row mx-0">
            <div class="col">
                <!-- ë“±ë¡ì°¨ëŸ‰ì´ ì—†ì„ ê²½ìš° -->
                <!-- <div class="row mx-0" th:if="${#lists.isEmpty(campingcarList)}">
                    <div class="col">
                        ë“±ë¡ëœ ì°¨ëŸ‰ì´ ì—†ìŠµë‹ˆë‹¤.
                    </div>
                </div> -->
                <!--ë“±ë¡ì°¨ëŸ‰ì´ ìˆì„ ê²½ìš° -->
                <div class="row mx-0">
                    <div class="col" id="campingcarListBox"></div>
                </div>

            </div>
        </div>
    </div>
    <!-- ëŒ€ì—¬ ì¥ì†Œ ì„ íƒ ëª¨ë‹¬-->
    <div class="modal fade" id="locationModal" tabindex="-1" aria-labelledby="locationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title fs-5 fw-semibold text-center w-100" id="locationModalLabel">ëŒ€ì—¬ ì¥ì†Œ ì„ íƒ</div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row pb-2">
                            <div class="col-12 d-flex justify-content-center">
                                <button type="button" class="btn btn-outline-light text-dark w-100" data-location="ì „ì²´">ì „ì²´</button>
                            </div>
                        </div>
                        <!-- ëŒ€ì—¬ ì§€ì—­ ë¦¬ìŠ¤íŠ¸ ë°•ìŠ¤ -->
                        <div class="row d-flex flex-wrap" id="regionsListBox"></div>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                    <button type="button" class="btn text-dark w-100" data-bs-dismiss="modal" style="background-color: #C6ED6F;">ì·¨ì†Œí•˜ê¸°</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ìº í•‘ì¹´ ìœ í˜• ì„ íƒ ëª¨ë‹¬ -->
    <div class="modal fade" id="campingcarModal" tabindex="-1" aria-labelledby="campingcarModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title fs-5 fw-semibold text-center w-100" id="campingcarModalLabel">ìº í•‘ì¹´ ìœ í˜• ì„ íƒ</div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row" id="carTypeCheckListBox"></div>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                    <button type="button" class="carTypeBtn btn text-dark w-100" data-bs-dismiss="modal" style="background-color: #C6ED6F;" onClick="updateSelectedCarTypes()">ì„ íƒ</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ëŒ€ì—¬ì¼ ëª¨ë‹¬ -->
    <div class="modal fade" id="rentdateModal" tabindex="-1" aria-labelledby="rentdateModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title text-center w-100" id="rentdateModalLabel">ì–¸ì œ í•„ìš”í•œê°€ìš”?</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="calendar"></div>
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn w-100 text-dark" style="background-color: #C6ED6F;" data-bs-dismiss="modal" onclick="confirmRentDate()">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ë°˜ë‚©ì¼ ëª¨ë‹¬ -->
    <div class="modal fade" id="returndateModal" tabindex="-1" aria-labelledby="returndateModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title text-center w-100" id="returndateModalLabel">ë°˜ë‚©ì¼ ì„ íƒ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="calendarReturn"></div>
                </div>
                <div class="modal-footer border-0">
                    <button type="button" class="btn w-100 text-dark" style="background-color: #C6ED6F;" data-bs-dismiss="modal" onclick="confirmReturnDate()">í™•ì¸</button>
                </div>
            </div>
        </div>
    </div>

    <!-- campingcarList Templete -->
    <div id="campingcarListTemplete" class="d-none">
        <div class="campingcarListWrapper row">
            <div class="col px-0 shadow border border-2 rounded-4 my-4">
                <div class="row mx-0">
                    <div class="col px-0 d-flex justify-content-center align-items-center overflow-hidden rounded-top-4 position-relative">
                    <!-- ìº í•‘ì¹´ ì´ë¯¸ì§€ -->
                    <!-- ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•˜ëŠ” img íƒœê·¸. JavaScriptë¡œ src ì†ì„±ì„ ì„¤ì • -->
                    <img class="campingcarImg img-fluid" style="max-width: 100%; min-height: 100%;" alt="ì¸ë„¤ì¼">
                    <!-- ì°œ ê¸°ëŠ¥ ì•„ì´ì½˜ -->
                    <!-- ì¢‹ì•„ìš” ê¸°ëŠ¥ì„ ìœ„í•œ í•˜íŠ¸ ì•„ì´ì½˜. í´ë¦­ ì‹œ like() í•¨ìˆ˜ í˜¸ì¶œ -->
                    <div class="position-absolute top-0 end-0 pt-1" style="padding-right: 0.75rem;">
                        <!-- id ì†ì„±ì— product_id ë³€ìˆ˜ë¥¼ ë„£ì–´ íŠ¹ì • ì°¨ëŸ‰ê³¼ ì—°ê²°. onclick ì´ë²¤íŠ¸ë¡œ like() í•¨ìˆ˜ í˜¸ì¶œ -->
                        <!-- id ì†ì„±ì„ `heart-${product_id}` í˜•íƒœë¡œ ì„¤ì •í•˜ì—¬ ê³ ìœ í•œ IDë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤. 
                             ì—¬ê¸°ì„œ product_idëŠ” ê° ìº í•‘ì¹´ í•­ëª©ì˜ ê³ ìœ  IDë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. 
                             ì´ë¥¼ í†µí•´ íŠ¹ì • ìº í•‘ì¹´ í•­ëª©ì— ëŒ€í•œ ì¢‹ì•„ìš” ìƒíƒœë¥¼ ê°œë³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. -->
                            <i id="heart-${product_id}" onclick="like()" class="fa-regular fa-heart" style="color: #ff0000;"></i>
                        </div>
                    </div>
                </div>
                <div class="row px-3">
                    <div class="col">
                        <!-- íšŒì‚¬ëª… + ì°¨ëŸ‰ëª… -->
                        <div class="row">
                            <div class="col pe-0 pb-2">
                                <span class="campingcarComp_name fw-bold fs-6 text-success"></span>
                                <span class="campingcarProduct_name fw-bold fs-6" style="color: #484647;"></span>
                                <div class="campingcarShortdescription fw-bold new-fs-85" style="color: #7C7B7B;"></div>
                            </div>
                        </div>
                        <!-- ë¹„ìˆ˜ê¸° í‰ì¼ê°€ê²©, ì£¼ë§ê°€ê²© -->
                        <div class="row ps-1">
                            <div class="col fs-6 ps-2 pb-2 d-flex align-items-center">
                                <span class="text-primary fw-semibold"></span>
                                <span class="campingcarRental_fee_weekdays"></span>
                            </div>
                            <div class="col fs-6 ps-0 pb-2 d-flex justify-content-center aling-items-center">
                                <span class="text-primary fw-semibold"></span>
                                <span class="campingcarRental_fee_weekend"></span>
                            </div>
                        </div>
                        <!-- ì°¨ê³ ì§€ ì£¼ì†Œ + ìš´ì „ ì¡°ê±´ -->
                        <div class="row border-top">
                            <div class="col pt-2 pb-2 fw-bold new-fs-85" style="color: #7C7B7B;">
                                <div class="campingcarGarage_address"></div>
                                <div class="campingcarDriver_license_name"></div>
                                <div class="campingcarDriver_age_condition_name"></div>
                                <div class="campingcarDriver_experience_condition_name"></div>
                            </div>
                        </div>
                        <!-- ë™ìŠ¹,ì·¨ì¹¨, ì• ì™„ ì¡°ê±´ -->
                        <div class="row py-2 new-fs-85 border-top">
                            <div class="col-4 px-0 d-flex justify-content-between align-items-center">
                                <span class="material-symbols-outlined">groups</span><span class="campingcarSeating_capacity"></span>|
                            </div>
                            <div class="col-4 px-0 d-flex justify-content-between align-items-center">
                                <span class="material-symbols-outlined">hotel</span>
                                <span class="campingcarSleeping_capacity"></span>|
                            </div>
                            <div class="col-4 px-0 d-flex align-items-center">
                                <span class="material-symbols-outlined">sound_detection_dog_barking</span>
                                <span class="campingcarPet_friendly"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì§€ì—­ì„ íƒ ëª¨ë‹¬ Template -->
    <div id="regionsListTemplate" class="d-none">
        <div class="regionstsListWrapper col-6 pb-2 d-flex justify-content-center">
          <span class="regionsBtn btn btn-outline-light text-dark w-100"></span>
        </div>
    </div>

    <!-- ìº í•‘ì¹´ì„ íƒ ëª¨ë‹¬ Template -->
    <div id="carTypeCheckListTemplate" class="d-none">
        <div class="col-12 pb-2">
            <div class="carTypeCheckListWrapper form-check d-flex align-items-center">
                <input class="carTypeCheck form-check-input" type="checkbox">
                <label class="form-check-label"></label>
            </div>
        </div>
    </div>




    <div th:replace="~{campingcar/campingNavi::bottomNavi}"></div>
    
    <div th:replace="~{campingcar/campingNavi::quickNavi}"></div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>


    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
        window.addEventListener("DOMContentLoaded", () => {
            // í˜ì´ì§€ê°€ ì™„ì „íˆ ë¡œë“œë˜ë©´ ì„¸ì…˜ì—ì„œ ì‚¬ìš©ì IDë¥¼ ì„¤ì •í•˜ê³ , ìº í•‘ì¹´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.
            setSessionUserId();
            loadCampingCarList();                          
        });

        // ì „ì—­ ë³€ìˆ˜: ì‚¬ìš©ì ID ì´ˆê¸°í™”
        let myId = null;

        // ì„¸ì…˜ì—ì„œ ì‚¬ìš©ì IDë¥¼ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
        function setSessionUserId() {
            // ì‚¬ìš©ì IDë¥¼ ê°€ì ¸ì˜¤ëŠ” API ìš”ì²­
            const url = "/api/rent-user/getSessionUserId";
            fetch(url)
                .then(response => response.json()) // JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì²˜ë¦¬
                .then((response) => {
                    // ì‘ë‹µì—ì„œ ì‚¬ìš©ì IDë¥¼ ì¶”ì¶œí•˜ì—¬ ì „ì—­ ë³€ìˆ˜ì— ì €ì¥
                    myId = response.data.id;
                });
        }

        // ìº í•‘ì¹´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¡œë“œí•˜ê³  í™”ë©´ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
        function loadCampingCarList() {
            // ìº í•‘ì¹´ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” API ìš”ì²­
            const url = "/api/campingcar/campingcarList";
            fetch(url)
                .then(response => response.json()) // JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì²˜ë¦¬
                .then(response => {
                    // ìº í•‘ì¹´ ë¦¬ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•  ì»¨í…Œì´ë„ˆ ì„ íƒ
                    const campingcarListBox = document.getElementById("campingcarListBox");
                    // ì»¨í…Œì´ë„ˆì˜ ê¸°ì¡´ ë‚´ìš©ì„ ì´ˆê¸°í™”
                    campingcarListBox.innerHTML = "";
                    
                    // ìº í•‘ì¹´ ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆëŠ” ê²½ìš° ì²˜ë¦¬
                    if (response.data.campingcarList.length == 0) {
                        // ìº í•‘ì¹´ê°€ ì—†ëŠ” ê²½ìš°ì— í‘œì‹œí•  ìš”ì†Œë¥¼ ê°€ì ¸ì™€ì„œ ë¦¬ìŠ¤íŠ¸ ë°•ìŠ¤ì— ì¶”ê°€
                        const notExistList = document.querySelector("#campingcarListTemplete .notExistList");
                        campingcarListBox.appendChild(notExistList);
                        return; // ìº í•‘ì¹´ê°€ ì—†ìœ¼ë¯€ë¡œ í•¨ìˆ˜ ì¢…ë£Œ
                    }

                    // ìº í•‘ì¹´ í•­ëª©ì˜ í…œí”Œë¦¿ ìš”ì†Œë¥¼ ê°€ì ¸ì™€ì„œ ë³€ìˆ˜ì— ì €ì¥
                    const campingcarListWrapperTemplete = document.querySelector("#campingcarListTemplete .campingcarListWrapper");

                    // ìº í•‘ì¹´ ë¦¬ìŠ¤íŠ¸ì˜ ê° í•­ëª©ì„ ë°˜ë³µ ì²˜ë¦¬
                    for (const e of response.data.campingcarList) {
                        // ìº í•‘ì¹´ í•­ëª© í…œí”Œë¦¿ì„ í´ë¡ í•˜ì—¬ ìƒˆë¡œìš´ í•­ëª© ìƒì„±
                        const newCampingcarListWrapper  = campingcarListWrapperTemplete.cloneNode(true);

                        // ìº í•‘ì¹´ ì´ë¯¸ì§€ ì„¤ì •
                        const campingcarImg = newCampingcarListWrapper.querySelector(".campingcarImg");
                        // setAttribute ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìº í•‘ì¹´ ì´ë¯¸ì§€ì˜ src ì†ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
                        // ì´ ì†ì„±ì€ ìº í•‘ì¹´ì˜ ì£¼ìš” ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
                        // e.main_imgëŠ” ì„œë²„ì—ì„œ ì œê³µëœ ì´ë¯¸ì§€ íŒŒì¼ ì´ë¦„ì„ í¬í•¨í•˜ë©°,
                        // ì´ ê°’ì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë™ì ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        campingcarImg.setAttribute("src", `/images/${e.main_img}`);

                        // ì¢‹ì•„ìš” ê¸°ëŠ¥ ì„¤ì •
                        const like = newCampingcarListWrapper.querySelector(".fa-heart");
                        // setAttribute ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜íŠ¸ ì•„ì´ì½˜ì˜ onclick ì†ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
                        // ì´ë¥¼ í†µí•´ í•˜íŠ¸ ì•„ì´ì½˜ í´ë¦­ ì‹œ like() í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë„ë¡ í•©ë‹ˆë‹¤.
                        // product_idëŠ” í˜„ì¬ ìº í•‘ì¹´ í•­ëª©ì˜ ê³ ìœ  IDë¥¼ ë‚˜íƒ€ë‚´ë©°, 
                        // ì´ë¥¼ í†µí•´ íŠ¹ì • ìº í•‘ì¹´ì— ëŒ€í•´ ì¢‹ì•„ìš”ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        like.setAttribute("onclick", `like(${e.id})`);

                        // í•˜íŠ¸ ì•„ì´ì½˜ì˜ id ì†ì„± ì„¤ì •
                        const heart = newCampingcarListWrapper.querySelector(".fa-heart");
                        // setAttribute ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜íŠ¸ ì•„ì´ì½˜ì˜ id ì†ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
                        // IDëŠ” `heart-${e.id}` í˜•íƒœë¡œ ì„¤ì •ë˜ì–´ ê° ìº í•‘ì¹´ í•­ëª©ì˜ í•˜íŠ¸ ì•„ì´ì½˜ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        // ì´ë¥¼ í†µí•´ ì´í›„ ì¢‹ì•„ìš” ìƒíƒœë¥¼ ë™ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        heart.setAttribute("id", `heart-${e.id}`);

                        // í…ìŠ¤íŠ¸ ìš”ì†Œ ì„¤ì •
                        const campingcarComp_name = newCampingcarListWrapper.querySelector(".campingcarComp_name");
                        campingcarComp_name.innerText = e.comp_name;

                        const campingcarProduct_name = newCampingcarListWrapper.querySelector(".campingcarProduct_name");
                        campingcarProduct_name.innerText = e.product_name;

                        const campingcarShortdescription = newCampingcarListWrapper.querySelector(".campingcarShortdescription");
                        campingcarShortdescription.innerText = e.shortdescription;

                        // ê°€ê²© ì •ë³´ ì„¤ì •
                        const campingcarRental_fee_weekdays = newCampingcarListWrapper.querySelector(".campingcarRental_fee_weekdays");
                        campingcarRental_fee_weekdays.innerText = `í‰ì¼ ê°€ê²© : ${e.rental_fee_weekdays.toLocaleString('ko-KR')}ì›`;

                        const campingcarRental_fee_weekend = newCampingcarListWrapper.querySelector(".campingcarRental_fee_weekend");
                        campingcarRental_fee_weekend.innerText = `ì£¼ë§ ê°€ê²© : ${e.rental_fee_weekend.toLocaleString('ko-KR')}ì›`;

                        // ì£¼ì†Œ ë° ìš´ì „ ì¡°ê±´ ì„¤ì •
                        const campingcarGarage_address = newCampingcarListWrapper.querySelector(".campingcarGarage_address");
                        campingcarGarage_address.innerText = `ì°¨ê³ ì§€ ì£¼ì†Œ : ${e.garage_address}`;

                        const campingcarDriver_license_name = newCampingcarListWrapper.querySelector(".campingcarDriver_license_name");
                        campingcarDriver_license_name.innerText = `ìš´ì „ë©´í—ˆì¦ : ${e.driver_license_name}`;

                        const campingcarDriver_age_condition_name = newCampingcarListWrapper.querySelector(".campingcarDriver_age_condition_name");
                        campingcarDriver_age_condition_name.innerText = `ìš´ì „ì ë‚˜ì´ : ${e.driver_age_condition_name}`;

                        const campingcarDriver_experience_condition_name = newCampingcarListWrapper.querySelector(".campingcarDriver_experience_condition_name");
                        campingcarDriver_experience_condition_name.innerText = `ìš´ì „ ê²½ë ¥ : ${e.driver_experience_condition_name}`;

                        const campingcarSeating_capacity = newCampingcarListWrapper.querySelector(".campingcarSeating_capacity");
                        campingcarSeating_capacity.innerText = `ë™ìŠ¹ì¸ì› : ${e.seating_capacity}ëª…`; 

                        const campingcarSleeping_capacity = newCampingcarListWrapper.querySelector(".campingcarSleeping_capacity");
                        campingcarSleeping_capacity.innerText = `ì·¨ì¹¨ì¸ì› : ${e.sleeping_capacity}ëª…`;

                        const campingcarPet_friendly = newCampingcarListWrapper.querySelector(".campingcarPet_friendly");
                        campingcarPet_friendly.innerText = e.pet_friendly;

                        // ìƒˆë¡œìš´ ìº í•‘ì¹´ í•­ëª©ì„ ë¦¬ìŠ¤íŠ¸ ë°•ìŠ¤ì— ì¶”ê°€
                        campingcarListBox.appendChild(newCampingcarListWrapper);

                        // ê° ìº í•‘ì¹´ í•­ëª©ì˜ ì¢‹ì•„ìš” ìƒíƒœë¥¼ ê°±ì‹ 
                        reloadLike(e.id);

                        // ìƒì„¸ í˜ì´ì§€ ì´ë™ì„ ìœ„í•œ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                        newCampingcarListWrapper.addEventListener('click', () => {
                            window.location.href = `/campingcar/campingCarDetailPage?id=${e.id}`;
                        });
                    }
                });
        }

        // ì¢‹ì•„ìš” í´ë¦­ í•¨ìˆ˜
        function like(product_id) {
            // ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
            if (myId == null) {
                if (confirm("ë¡œê·¸ì¸ í•˜ì…”ì•¼ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    location.href = "/user/loginPage";
                }
                return;
            }

            // ì¢‹ì•„ìš”ë¥¼ ì¶”ê°€í•˜ëŠ” API ìš”ì²­
            const url = `/api/rent-user/like?product_id=${product_id}`;
            fetch(url)
                .then(response => response.json()) // JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì²˜ë¦¬
                .then(response => {
                    // ì¢‹ì•„ìš” ìƒíƒœë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
                    reloadLike(product_id);
                });
        }

        // ì¢‹ì•„ìš” ìƒíƒœë¥¼ ê°±ì‹ í•˜ëŠ” í•¨ìˆ˜
        function reloadLike(product_id) {
            // ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° í•¨ìˆ˜ ì¢…ë£Œ
            if (myId == null) {
                return; 
            }

            // ì°œ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” API ìš”ì²­
            const url = `/api/rent-user/isLiked?product_id=${product_id}`;
            fetch(url)
                .then(response => response.json()) // JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì²˜ë¦¬
                .then(response => {
                    // ì½˜ì†” ë¡œê·¸ë¡œ ìƒíƒœ í™•ì¸
                    // console.log("isLiked ì—¬ë¶€ ì‘ë‹µ í™•ì¸: ", response.data.isLikedByUser);
                    // console.log("myId í™•ì¸ : ", myId);
                    
                    // íŠ¹ì • ì°¨ëŸ‰ì˜ í•˜íŠ¸ ì•„ì´ì½˜ ì„ íƒ
                    const heart = document.getElementById(`heart-${product_id}`);
                    // console.log("heartì˜ product_id ê°’ í™•ì¸: ", heart);

                    // ì‚¬ìš©ìê°€ ì´ë¯¸ ì¢‹ì•„ìš”ë¥¼ ëˆŒë €ëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸
                    if (response.data.isLikedByUser == true) {
                        // ì¢‹ì•„ìš”ê°€ ëˆŒë¦° ìƒíƒœ: í•˜íŠ¸ ì•„ì´ì½˜ì˜ í´ë˜ìŠ¤ë¥¼ fa-solidë¡œ ë³€ê²½í•˜ì—¬ ê°•ì¡°
                        heart.classList.remove("fa-regular");
                        heart.classList.add("fa-solid");

                        // setAttribute ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜íŠ¸ ì•„ì´ì½˜ì˜ onclick ì†ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
                        // í˜„ì¬ ì¢‹ì•„ìš” ìƒíƒœì¼ ê²½ìš° í´ë¦­ ì‹œ ì¢‹ì•„ìš”ë¥¼ ì·¨ì†Œí•˜ëŠ” unLike() í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
                        heart.setAttribute("onclick", `unLike(${product_id})`);
                    } else {
                        // ì¢‹ì•„ìš”ê°€ ëˆŒë¦¬ì§€ ì•Šì€ ìƒíƒœ: í•˜íŠ¸ ì•„ì´ì½˜ì˜ í´ë˜ìŠ¤ë¥¼ fa-regularë¡œ ë³€ê²½í•˜ì—¬ ë¹„í™œì„±í™”
                        heart.classList.remove("fa-solid");
                        heart.classList.add("fa-regular");

                        // setAttribute ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜íŠ¸ ì•„ì´ì½˜ì˜ onclick ì†ì„±ì„ ì„¤ì •í•©ë‹ˆë‹¤.
                        // í˜„ì¬ ì¢‹ì•„ìš” ìƒíƒœê°€ ì•„ë‹ ê²½ìš° í´ë¦­ ì‹œ ì¢‹ì•„ìš”ë¥¼ ì¶”ê°€í•˜ëŠ” like() í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
                        heart.setAttribute("onclick", `like(${product_id})`);
                    }
                });
        }

        // ì¢‹ì•„ìš” ì·¨ì†Œ í•¨ìˆ˜
        function unLike(product_id) {
            // ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ê²½ìš° ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
            if (myId == null) {
                if (confirm("ë¡œê·¸ì¸ í•˜ì…”ì•¼ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    location.href = "/user/loginPage";
                }
                return;
            }

            // ì¢‹ì•„ìš”ë¥¼ ì·¨ì†Œí•˜ëŠ” API ìš”ì²­
            const url = `/api/rent-user/unLike?product_id=${product_id}`;
            fetch(url)
                .then(response => response.json()) // JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µì„ ì²˜ë¦¬
                .then(response => {
                    // ì¢‹ì•„ìš” ìƒíƒœë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤.
                    reloadLike(product_id);
                });
        }

        // ëŒ€ì—¬ ì¥ì†Œ ì„ íƒ ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜ 
        const showLocationModal = () => {
            const locationModal = document.getElementById("locationModal"); 
            const modal = new bootstrap.Modal(locationModal);
            loadRegionOptionList(); // ëª¨ë‹¬ì„ ì—´ ë•Œ ì§€ì—­ ì˜µì…˜ ëª©ë¡ì„ ë¡œë“œ
            modal.show();
        }
        // ëŒ€ì—¬ ì¥ì†Œ ëª¨ë‹¬ì˜ ì§€ì—­ ë¦¬ìŠ¤íŠ¸ í•¨ìˆ˜ 
        function loadRegionOptionList() {
            const url = "/api/rent-user/getRegionsAll";
            fetch(url)
            .then(response => response.json())
            .then(response => {
                const regionsListBox = document.getElementById("regionsListBox");
                // ì»¨í…Œì´ë„ˆì˜ ê¸°ì¡´ ë‚´ìš©ì„ ì´ˆê¸°í™”
                regionsListBox.innerHTML = "";

                const regionsListWrapperTemplate  = document.querySelector("#regionsListTemplate .regionstsListWrapper"); 

                // ì°¨ëŸ‰ ì§€ì—­ ë¦¬ìŠ¤íŠ¸ì˜ ê° í•­ëª©ì„ ë°˜ë³µ ì²˜ë¦¬
                for (const regionsList of response.data.allRegionsList) {
                    const newRegionsListWrapperTemplate = regionsListWrapperTemplate.cloneNode(true);

                    const newregionsButton = newRegionsListWrapperTemplate.querySelector(".regionsBtn"); 
                    newregionsButton.innerText = regionsList.name;
                    
                    // ì§€ì—­ ë²„íŠ¼ í´ë¦­í•œ ê²ƒì„ click ì´ë²¤íŠ¸ ì¶”ê°€
                    newregionsButton.addEventListener('click', () => {
                        // 'locationDisplay'ë¼ëŠ” IDë¥¼ ê°€ì§„ ìš”ì†Œ(ì¥ì†Œ ì„ íƒì´ë¼ëŠ” ë²„íŠ¼)ì˜ í…ìŠ¤íŠ¸ë¥¼ ì„ íƒí•œ ì§€ì—­ì˜ ì´ë¦„ìœ¼ë¡œ ë™ì ìœ¼ë¡œ ì„¤ì •
                        document.getElementById("locationDisplay").innerText = regionsList.name;
                        // Bootstrap ëª¨ë‹¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì ¸ì™€ì„œ ëª¨ë‹¬ ë‹«ê¸°
                        const modalInstance = bootstrap.Modal.getInstance(locationModal);// ëª¨ë‹¬ ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°
                        modalInstance.hide();// ëª¨ë‹¬ ë‹«ê¸°
                    });

                    regionsListBox.appendChild(newRegionsListWrapperTemplate);
                }
            });
        }

        let selectedCarTypes = [];

        // ìº í•‘ì¹´ ìœ í˜• ì„ íƒ ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜ 
        const showCarTypeModal = () => {
            const campingcarModal = document.getElementById("campingcarModal"); 
            const carTypeModal = new bootstrap.Modal(campingcarModal);
            loadCampingCarTypeOptionList();
            carTypeModal.show();
        }

        // ìº í•‘ì¹´ìœ í˜• ì„ íƒ ëª¨ë‹¬ì˜ ì§€ì—­ ë¦¬ìŠ¤íŠ¸ í•¨ìˆ˜ 
        function loadCampingCarTypeOptionList() {
            const url = "/api/rent-user/getCarTypeAll";
            fetch(url)
            .then(response => response.json())
            .then(response => {
                const carTypeCheckListBox = document.getElementById("carTypeCheckListBox");
                // ì»¨í…Œì´ë„ˆì˜ ê¸°ì¡´ ë‚´ìš©ì„ ì´ˆê¸°í™”
                carTypeCheckListBox.innerHTML = "";

                const carTypeListWrapperTemplate  = document.querySelector("#carTypeCheckListTemplate .carTypeCheckListWrapper"); 

                let id = 0;
                // ìº í•‘ì¹´ ìœ í˜• ë¦¬ìŠ¤íŠ¸ì˜ ê° í•­ëª©ì„ ë°˜ë³µ ì²˜ë¦¬
                for(const carTypeList of response.data.allCarType) {
                    const newCarTypeListWrapperTemplate = carTypeListWrapperTemplate.cloneNode(true);

                    const newCarTypeCheck = newCarTypeListWrapperTemplate.querySelector(".carTypeCheck"); 
                    newCarTypeCheck.value = carTypeList.name; // ì²´í¬ë°•ìŠ¤ì˜ ê°’ ì„¤ì •
                    newCarTypeCheck.id = `carTypeCheck${id}`; // ì²´í¬ë°•ìŠ¤ì˜ ê³ ìœ í•œ ID ì„¤ì •

                    const newCarTypeLabel = newCarTypeListWrapperTemplate.querySelector(".form-check-label");
                    newCarTypeLabel.innerText = carTypeList.name; // ë¼ë²¨ì— í…ìŠ¤íŠ¸ ì„¤ì •
                    newCarTypeLabel.setAttribute("for", `carTypeCheck${id}`); // ë¼ë²¨ì˜ for ì†ì„± ì„¤ì •

                    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ : ì„ íƒëœ ì²´í¬ë°•ìŠ¤ì˜ í•¨ìˆ˜ ì½œë°±
                    newCarTypeCheck.addEventListener('change', (event) => selectCarType(event));

                    carTypeCheckListBox.appendChild(newCarTypeListWrapperTemplate); // ë³µì œëœ í…œí”Œë¦¿ì„ ì²´í¬ë°•ìŠ¤ ëª©ë¡ì— ì¶”ê°€
                    id++;  // ê³ ìœ í•œ IDë¥¼ ìœ„í•´ id ê°’ ì¦ê°€
                }
            });
        }

        // ì„ íƒëœ ìº í•‘ì¹´ ìœ í˜•  
        function selectCarType(event) { 
            if (event.target.checked) {
                // ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì—ˆìœ¼ë©´ ë°°ì—´ì— ì¶”ê°€
                selectedCarTypes.push(event.target.value);
            } else {
                // ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ í•´ì œë˜ì—ˆìœ¼ë©´ ë°°ì—´ì—ì„œ ì œê±°
                selectedCarTypes = selectedCarTypes.filter(value => value !== event.target.value);
            }
        }

        function updateSelectedCarTypes() {
            // ì„ íƒëœ ìº í•‘ì¹´ ìœ í˜•ë“¤ì„ ì½¤ë§ˆë¡œ êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
            document.getElementById("carTypeDisplay").innerText = selectedCarTypes.join(', ');
        }

        // ëŒ€ì—¬ì¼ ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜ 
        const showRentDateModal = () => {
            const rentDateModalOpen = document.getElementById("rentdateModal");
            const rentDateModal = new bootstrap.Modal(rentDateModalOpen);
            rentDateModal.show();
            renderCalendar(currentMonth, currentYear);
        }

        // ë°˜ë‚©ì¼ ëª¨ë‹¬ ì—´ê¸° í•¨ìˆ˜ 
        const showReturnDateModal = () => {
            const returnDateModalOpen = document.getElementById("returndateModal");
            const returnDateModal = new bootstrap.Modal(returnDateModalOpen);
            returnDateModal.show();
            renderReturnCalendar(currentMonth, currentYear);
        }

        const today = new Date();
        let currentMonth = today.getMonth();
        let currentYear = today.getFullYear();
        let lastSelectedDate = null;
        let lastSelectedReturnDate = null;

        document.addEventListener("DOMContentLoaded", () => {
            renderCalendar(currentMonth, currentYear);
            renderReturnCalendar(currentMonth, currentYear);
        });

        function renderCalendar(month, year) {
            const firstDay = new Date(Date.UTC(year, month, 1)).getUTCDay();
            const lastDate = new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
            const lastDatePrevMonth = new Date(Date.UTC(year, month, 0)).getUTCDate();
            const calendar = document.getElementById("calendar");

            let html = `
                <div class="calendar-container">
                    <div class="header">
                        <button class="btn btn-light" id="prevMonth" onclick="changeMonth(-1)">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h4 id="monthYear">${year}.${month + 1 < 10 ? '0' : ''}${month + 1}</h4>
                        <button class="btn btn-light" id="nextMonth" onclick="changeMonth(1)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="text-danger">ì¼</th>
                                <th>ì›”</th>
                                <th>í™”</th>
                                <th>ìˆ˜</th>
                                <th>ëª©</th>
                                <th>ê¸ˆ</th>
                                <th class="text-primary">í† </th>
                            </tr>
                        </thead>
                        <tbody id="calendarBody">
            `;

            let date = 1;
            let nextMonthDate = 1;

            for (let i = 0; i < 6; i++) {
                html += '<tr>';
                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < firstDay) {
                        html += `<td class="inactive">${lastDatePrevMonth - firstDay + 1 + j}</td>`;
                    } else if (date > lastDate) {
                        html += `<td class="inactive">${nextMonthDate++}</td>`;
                    } else {
                        let cellDate = new Date(Date.UTC(year, month, date));
                        let cellClass = (cellDate < today && !(cellDate.getUTCDate() === today.getUTCDate() && cellDate.getUTCMonth() === today.getUTCMonth() && cellDate.getUTCFullYear() === today.getUTCFullYear())) ? 'inactive' : 'cursor-pointer';
                        if (date === today.getUTCDate() && month === today.getUTCMonth() && year === today.getUTCFullYear() && !lastSelectedDate) {
                            cellClass += ' today';
                        }
                        html += `<td class="${cellClass}" data-date="${cellDate.toISOString().split('T')[0]}" onclick="selectDate(this, '${cellDate.toISOString().split('T')[0]}')"><span class="date-circle">${date++}</span></td>`;
                    }
                }
                html += '</tr>';
            }

            html += `
                        </tbody>
                    </table>
                </div>
            `;

            calendar.innerHTML = html;

            // ì¬ì„ íƒëœ ë‚ ì§œê°€ í˜„ì¬ ì›”ì— ìˆìœ¼ë©´ í•´ë‹¹ ë‚ ì§œì— ì„ íƒ í‘œì‹œ ì¶”ê°€
            if (lastSelectedDate) {
                const selectedCell = document.querySelector(`[data-date="${lastSelectedDate}"]`);
                if (selectedCell) {
                    selectedCell.classList.add('selected');
                }
            }
        }

        function renderReturnCalendar(month, year) {
            const firstDay = new Date(Date.UTC(year, month, 1)).getUTCDay();
            const lastDate = new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
            const lastDatePrevMonth = new Date(Date.UTC(year, month, 0)).getUTCDate();
            const calendarReturn = document.getElementById("calendarReturn");

            let html = `
                <div class="calendar-container">
                    <div class="header">
                        <button class="btn btn-light" id="prevMonthReturn" onclick="changeReturnMonth(-1)">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h4 id="monthYear">${year}.${month + 1 < 10 ? '0' : ''}${month + 1}</h4>
                        <button class="btn btn-light" id="nextMonthReturn" onclick="changeReturnMonth(1)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="text-danger">ì¼</th>
                                <th>ì›”</th>
                                <th>í™”</th>
                                <th>ìˆ˜</th>
                                <th>ëª©</th>
                                <th>ê¸ˆ</th>
                                <th class="text-primary">í† </th>
                            </tr>
                        </thead>
                        <tbody id="calendarBodyReturn">
            `;

            let date = 1;
            let nextMonthDate = 1;

            for (let i = 0; i < 6; i++) {
                html += '<tr>';
                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < firstDay) {
                        html += `<td class="inactive">${lastDatePrevMonth - firstDay + 1 + j}</td>`;
                    } else if (date > lastDate) {
                        html += `<td class="inactive">${nextMonthDate++}</td>`;
                    } else {
                        let cellDate = new Date(Date.UTC(year, month, date));
                        let cellClass = (cellDate < today && !(cellDate.getUTCDate() === today.getUTCDate() && cellDate.getUTCMonth() === today.getUTCMonth() && cellDate.getUTCFullYear() === today.getUTCFullYear())) ? 'inactive' : 'cursor-pointer';
                        if (date === today.getUTCDate() && month === today.getUTCMonth() && year === today.getUTCFullYear() && !lastSelectedReturnDate) {
                            cellClass += ' today';
                        }
                        html += `<td class="${cellClass}" data-date="${cellDate.toISOString().split('T')[0]}" onclick="selectReturnDate(this, '${cellDate.toISOString().split('T')[0]}')"><span class="date-circle">${date++}</span></td>`;
                    }
                }
                html += '</tr>';
            }

            html += `
                        </tbody>
                    </table>
                </div>
            `;

            calendarReturn.innerHTML = html;

            // ì¬ì„ íƒëœ ë‚ ì§œê°€ í˜„ì¬ ì›”ì— ìˆìœ¼ë©´ í•´ë‹¹ ë‚ ì§œì— ì„ íƒ í‘œì‹œ ì¶”ê°€
            if (lastSelectedReturnDate) {
                const selectedCell = document.querySelector(`[data-date="${lastSelectedReturnDate}"]`);
                if (selectedCell) {
                    selectedCell.classList.add('selected');
                }
            }
        }

        function changeMonth(direction) {
            currentMonth += direction;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            } else if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderCalendar(currentMonth, currentYear);
        }

        function changeReturnMonth(direction) {
            currentMonth += direction;
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            } else if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            renderReturnCalendar(currentMonth, currentYear);
        }

        function selectDate(cell, date) {
            document.querySelectorAll('#calendarBody td').forEach(td => td.classList.remove('selected', 'today'));
            cell.classList.add('selected');

            lastSelectedDate = date;
            console.log(`Selected date: ${lastSelectedDate}`);
        }

        function selectReturnDate(cell, date) {
            document.querySelectorAll('#calendarBodyReturn td').forEach(td => td.classList.remove('selected', 'today'));
            cell.classList.add('selected');

            lastSelectedReturnDate = date;
            console.log(`Selected return date: ${lastSelectedReturnDate}`);
        }

        function confirmRentDate() {
            const selectedDate = document.querySelector('#calendarBody td.selected').dataset.date;
            if (selectedDate) {
                const displayDate = new Date(selectedDate);
                document.getElementById("rendDateDisplay").textContent = displayDate.toISOString().split('T')[0];
            }
        }

        function confirmReturnDate() {
            const selectedReturnDate = document.querySelector('#calendarBodyReturn td.selected').dataset.date;
            if (selectedReturnDate) {
                const displayDate = new Date(selectedReturnDate);
                document.getElementById("returnDateDisplay").textContent = displayDate.toISOString().split('T')[0];
            }
        }

        // ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        function search() {
            const selectedLocation = document.getElementById("locationDisplay").innerText;
            const selectedCarTypes = document.getElementById("carTypeDisplay").innerText.split(', ');
            const selectedRentDate = document.getElementById("rendDateDisplay").innerText;
            const selectedReturnDate = document.getElementById("returnDateDisplay").innerText;

            // í•„í„°ë§ ì¡°ê±´ì— ë§ëŠ” ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
            const queryString = `location=${selectedLocation}&carTypes=${selectedCarTypes.join(',')}&rentDate=${selectedRentDate}&returnDate=${selectedReturnDate}`;
            window.location.href = `/searchResultsPage?${queryString}`;
        }
    </script>
</body>
</html>
<!-- /* ì„¤ëª… ì£¼ì„
1. newRegionButton.addEventListener('click', () => { ... });:
   - ì„¤ëª…: addEventListenerëŠ” ì§€ì •ëœ ì´ë²¤íŠ¸ê°€ ëŒ€ìƒì—ì„œ ë°œìƒí•  ë•Œ í˜¸ì¶œí•  í•¨ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ 'click' ì´ë²¤íŠ¸ë¥¼ ì„¤ì •í•˜ì—¬ ë²„íŠ¼ì´ í´ë¦­ë  ë•Œ íŠ¹ì • ë™ì‘ì„ ìˆ˜í–‰í•˜ë„ë¡ í•©ë‹ˆë‹¤.
   - ì‚¬ìš©ë²•:
     element.addEventListener(event, function);
     element: ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•  ëŒ€ìƒ ìš”ì†Œì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” newRegionButtonì…ë‹ˆë‹¤.
     event: ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•  ì´ë²¤íŠ¸ ìœ í˜•ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” 'click'ì…ë‹ˆë‹¤.
     function: ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰í•  í•¨ìˆ˜ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” ìµëª… í•¨ìˆ˜(() => { ... })ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

2. document.getElementById('locationDisplay').innerText = region.name;
   - ì„¤ëª…: document.getElementByIdëŠ” HTML ë¬¸ì„œì—ì„œ ì§€ì •ëœ IDë¥¼ ê°€ì§„ ìš”ì†Œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. innerTextëŠ” í•´ë‹¹ ìš”ì†Œì˜ í…ìŠ¤íŠ¸ ì½˜í…ì¸ ë¥¼ ì„¤ì •í•˜ê±°ë‚˜ ë°˜í™˜í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” locationDisplayë¼ëŠ” IDë¥¼ ê°€ì§„ ìš”ì†Œì˜ í…ìŠ¤íŠ¸ë¥¼ ì„ íƒí•œ ì§€ì—­ì˜ ì´ë¦„(region.name)ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
   - ì‚¬ìš©ë²•:
     const element = document.getElementById(id);
     element.innerText = text;
     id: ì°¾ê³ ì í•˜ëŠ” ìš”ì†Œì˜ IDì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” 'locationDisplay'ì…ë‹ˆë‹¤.
     text: ìš”ì†Œì— ì„¤ì •í•  í…ìŠ¤íŠ¸ ì½˜í…ì¸ ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” region.nameì…ë‹ˆë‹¤.

3. const modalInstance = bootstrap.Modal.getInstance(locationModal);
   - ì„¤ëª…: bootstrap.Modal.getInstanceëŠ” ì§€ì •ëœ ëª¨ë‹¬ ìš”ì†Œì— ëŒ€í•œ Bootstrap ëª¨ë‹¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ì´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ëª¨ë‹¬ì— ëŒ€í•´ í”„ë¡œê·¸ë¨ì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
   - ì‚¬ìš©ë²•:
     const modalInstance = bootstrap.Modal.getInstance(element);
     element: ëª¨ë‹¬ ìš”ì†Œì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” locationModalì…ë‹ˆë‹¤.
     ê²°ê³¼: modalInstanceëŠ” ëª¨ë‹¬ì— ëŒ€í•œ Bootstrap ì¸ìŠ¤í„´ìŠ¤ê°€ ë©ë‹ˆë‹¤.

4. modalInstance.hide();
   - ì„¤ëª…: hide ë©”ì„œë“œëŠ” Bootstrap ëª¨ë‹¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìˆ¨ê¸°ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” modalInstanceê°€ ê°€ë¦¬í‚¤ëŠ” ëª¨ë‹¬ì„ ë‹«ìŠµë‹ˆë‹¤.
   - ì‚¬ìš©ë²•:
     modalInstance.hide();
     ê²°ê³¼: ëª¨ë‹¬ì´ í™”ë©´ì—ì„œ ì‚¬ë¼ì§‘ë‹ˆë‹¤.
*/ -->
