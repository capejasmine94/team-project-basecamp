<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" >
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
        <style>
            .fixed-button {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 1000; /* 필요에 따라 값 조정 */
                background-color: #007bff;
                color: white;
                width: 60px;
                height: 60px;
                padding: 10px 20px;
                border-radius: 50%;
                text-align: center;
                box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .fixed-button i {
                font-size: 24px;
            }

        </style>

    </head>
    <body>
      
  
        <div class="container">

            <!-- 전체 박스 -->
                <div class="row px-4">
                    <div class="col">

                        <div class="row py-4">
                            <div class="col-auto" th:if="${session.sessionUserInfo != null}">
                                <a th:if="${confirmBookmark == 0}" th:href="@{/club/bookmarkProcess(club_id=${map.clubDto.id}, user_id=${session.sessionUserInfo.id})}">
                                    <span><i class="bi bi-heart"></i></span>
                                </a>
                                <a th:unless="${confirmBookmark == 0}" th:href="@{/club/bookmarkProcess(club_id=${map.clubDto.id}, user_id=${session.sessionUserInfo.id})}">
                                    <span><i class="bi bi-heart-fill"></i></span>
                                </a>
                            </div>

                            <div class="col-auto" th:if="${session.sessionUserInfo == null}">
                                <a>
                                    <span><i class="bi bi-bookmark"></i></span>
                                </a>
                            </div>



                            <div class="col text-center fw-bold" th:text="${map.clubDto.name}">
                                CLUB HOME
                            </div>
                            <div class="col-auto">
                                <span class="text-end"><i class="bi bi-three-dots"></i></span>
                            </div>
                        </div>

                        <div class="row pt-3 pb-1 border-bottom border-3">
                            <div class="col text-center fw-bold">
                                <a th:href="@{/club/home(id=${id})}" style="text-decoration:none; color:black;"><span>홈</span></a>
                            </div>
                            <div class="col text-center">
                                <a th:href="@{/club/board(id=${id})}" style="text-decoration:none; color:black;"><span>게시판</span></a>
                            </div>
                            <div class="col text-center">
                                <a th:href="@{/club/album(id=${id})}" style="text-decoration:none; color:black;"><span>사진첩</span></a>
                            </div>
                        </div>


                        <div class="row pt-1 pb-2 border-0">
                            <div class="col" style="font-size: 0.8em;">
                                [필독] (공지사항 고정하기 할 수 있을까..?)
                            </div>
                        </div>

                       
                        <div class="row border rounded mb-3">
                            <div class="col text-center px-0">
                                <div class="rectangles" style="display: flex; gap: 10px;">
                                    <div class="rectangle" style="width: 25em; height: 10em; border: 1px solid #fff; overflow: hidden; position: relative;">
                                        <img th:src="|/images/${map.clubDto.main_image}|" style="width: 100%; height: 100%; object-fit: cover;">
                                        <div class="badge bg-opacity-50 bg-dark" style="position: absolute; top: 5px; right: 5px;  color: #fff; padding: 10px;">
                                            <i class="bi bi-bookmark" th:text="' ' + ${totalBookmark}"></i><span></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                         <!-- 소모임 홈 - 소모임 정보 카드부분 -->
                        <div class="row border rounded py-2 shadow-sm">
                            <div class="col-auto">

                             
                                <div class="row pb-3">
                                    <div class="col" style="font-size: 0.8em;">
                                        <span class="badge text-bg-danger">NEW</span>
                                        <span class="badge text-bg-primary" th:text="${map.clubRegionCategoryDto.region_name}"></span>
                                        <span class="badge text-bg-primary" th:text="'멤버 ' + ${map.totalClubMember} + ' / ' + ${map.clubDto.capacity}"></span>
                                        <span class="badge text-bg-primary" th:text="${#dates.format(map.clubDto.created_at, 'yyyy.MM.dd')}"></span>
                                    </div>
                                </div>
                                <div class="row pb-1">
                                    <div class="col fw-bold" th:text="${map.clubDto.name}" >
                                    </div> 
                                </div>
                                <div class="row">
                                    <div class="col" style="font-size: 0.8em;" th:text="${map.clubDto.description}">
                                        소모임 설명
                                    </div>
                                </div>
                            </div>
                            <div class="col text-end text-secondary" style="font-size: 0.8em;">
                                <i class="bi bi-people"></i>
                                <i class="bi bi-gear"></i>
                            </div>
                        </div>
                        <div class="row border-bottom border-4 py-2">
                            <div class="col"></div>
                        </div>

                        <div class="row py-2">
                            <div class="col fw-bold ps-0">
                                <span>정기모임</span>
                            </div>
                        </div>

                        <!-- 정기모임 박스 -->
                        <div class="row py-2 border rounded shadow-sm">
                            <div class="col">

                                <div class="row">
                                    <div class="col" style="font-size: 0.8em;">
                                        7/8 (월) <span class="text-danger"> D-4</span>
                                    </div>
                                    <div class="col text-end text-secondary" style="font-size: 0.8em;">
                                        <span>수정</span>
                                    </div>
                                </div>
                                <div class="row pb-1">
                                    <div class="col" style="font-size: 0.8em;">
                                        설악산 오색코스 탐방
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="row">
                                            <div class="col-3 pe-0">  
                                                <div class="rectangles" style="display: flex; gap: 10px;">
                                                    <div class="rectangle" style="width: 5em; height: 5em; border: 1px solid #fff;">
                                                        <img src="/public/img/clubImage/오색코스.jpg" alt="모임 이미지 1" style="width: 100%; height: 100%; object-fit: cover;">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col" style="font-size: 0.8em;">
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">일시</span> 7/8 (일) 오후 10:00
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">위치</span> 강원도
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">비용</span> 0,000
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">참석</span> 
                                                        <span class="text-danger">2</span>/5 
                                                        <span class="text-secondary"> (3자리 남음)</span>
                                                    </div>   
                                                </div>
                                            </div>
                                            <div class="col-auto align-self-center">
                                                <div class="row">
                                                    <div class="col">
                                                        <button type="button" class="btn btn-outline-secondary">참석</button>
                                                    </div>
                                                </div>
                                            </div>
                                       </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- <div class="row pt-3">
                            <div class="col">
                                <a href="" class="btn form-control btn-dark">정모 만들기</a>
                            </div>
                        </div> -->

                        <!--소모임 홈화면 모임멤버 목록 파트 -->
                        <div class="row">
                            <div class="col">

                                <div class="row pt-3 pb-1">
                                    <div class="col ps-0" style="font-size: 0.9em;">
                                       모임멤버 (<span>4</span>)
                                    </div>
                                    <div class="col pe-0 text-end" style="font-size: 0.8em;">
                                        <i class="bi bi-person-gear"></i> 멤버관리
                                    </div>
                                </div>
        
                                <div class="row">
                                    <div class="col">
                                            <div class="row">
                                                <div class="col px-0 input-group">
                                                <input type="text" th:value="${param.searchWord}" name="searchWord" class="form-control bg-body-tertiary" placeholder="검색어를 입력하세요.">
                                                    <button class="btn bg-body-tertiary border col-auto">
                                                        <i class="bi bi-search"></i>
                                                    </button>
                                                </div>
                                            </div>
                                    </div>
                                </div>
        
                                <div class="row pt-4">
                                    <div class="col ps-0" style="font-size: 0.8em;">
                                        최근 가입 <span><i class="bi bi-arrow-clockwise"></i></span>
                                    </div>
                                </div>
                               
                                <div class="row pt-2 pb-3" th:each="clubMemberData : ${clubMemberDataList}">
                                    <div class="col-1 px-0">
                                        <!-- <img src="/public/img/clubImage/mangleProfile.jpg" class="img-fluid rounded-circle" style="aspect-ratio: 1/1;"> -->
                                        <!-- <img th:src="|/image/${readPostMap.memberDto.profile_image}|" class="img-fluid rounded-circle" style="aspect-ratio: 1/1;"> -->
                                        <img th:src="|/image/${clubMemberData.userDto.profile_image}|" class="img-fluid rounded-circle"  style="aspect-ratio: 1/1;">
                                    </div>
                                    <div class="col align-self-center" style="font-size: 0.9em;">
                                        <div class="row">
                                            <div class="col" th:text="${clubMemberData.userDto.nickname}">
                                            </div>
                                            <div class="col text-end">
                                                <i class="bi bi-send"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>


                        <div class="row  pt-2 pb-5 text-center" th:if="${isMemberInClub != 1}">
                            <div class="col">
                                <a th:href="@{/club/joinClub(id=${id})}" class="btn form-control btn-dark">가입하기</a>
                            </div>
                        </div>

                    </div>
                </div>

                        <a th:if="${isMemberInClub == 1}" th:href="@{/club/createNewMeeting(id=${id})}" class="fixed-button">
                            <!-- <i class="bi bi-plus-circle-fill"></i> -->
                            <i class="bi bi-person-raised-hand"></i>
                        </a>
                    </div>
       

         
   
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>