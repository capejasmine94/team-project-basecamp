<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
   

    <title>Centered Circle with Number</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            /* align-items: center; */
            height: 100vh;
            margin: 0;
        }

        .centered-circle {
            width: 30px;
            height: 30px;
            background-color: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #000000;
            font-size: 16px;
            font-weight: normal;
        }

        .thicker-light-border {
            border-bottom: 7px solid #dee2e6;
        }
        
    </style>
</head>

<body>
    <div class="container">
        <!-- 전체 박스 -->
        <div class="row px-4">
            <div class="col">

                <div class="row py-5">
                    <div class="col text-center fw-bold">
                        READ POST
                    </div>
                </div>
                <div class="row pb-3">
                    <div class="col-auto pe-1 fw-bold fs-6" th:if="${session.sessionUserInfo != null}">
                        <a th:if="${confirmPostLike == 0}" th:href="@{/club/postLikeProcess(post_id=${map.clubPostDto.id}, user_id=${session.sessionUserInfo.id})}">
                            <span><i class="bi bi-bookmark"></i> </span>
                        </a>
                        <a th:unless="${confirmPostLike == 0}" th:href="@{/club/postLikeProcess(post_id=${map.clubPostDto.id}, user_id=${session.sessionUserInfo.id})}">
                            <span><i class="bi bi-bookmark-fill"></i></span>
                        </a>
                    </div>

                    <div class="col-auto pe-1" th:if="${session.sessionUserInfo == null}">
                        <a>
                            <span><i class="bi bi-bookmark"> </i></span> 
                        </a>
                    </div>
                    <div class="col ps-0">
                        <span th:text="${map.clubPostDto.title}">게시글 제목</span>
                    </div>    
                
                </div>

                <div class="row">
                    <div class="col">
                        <div class="row pb-3 border-bottom align-items-center">
                            <div class="col-2 pe-0">
                                <img th:src="|/image/${map.userDto.profile_image}|" class="img-fluid rounded-circle" style="aspect-ratio: 1/1;">
                            </div>
                            <div class="col">
                                <div class="row">
                                    <div class="col text-secondary" style="font-size: 0.9em;">
                                        <span th:text="${map.userDto.nickname}"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col text-secondary" style="font-size: 0.9em;">
                                        <i class="bi bi-clock"></i><span th:text="' ' + ${#dates.format(map.clubPostDto.created_at,'hh:mm')}">08:47</span>
                                        <i class="bi bi-file-earmark-text"></i><span th:text="' '+${totalReadCount}"> 27</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col d-flex justify-content-end align-items-center">
                                <div class="centered-circle">
                                    <span>1</span> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row pb-5 pt-4 thicker-light-border">
                    <div class="col">

                        <div class="row">
                            <div class="col">
                                <span th:text="${map.clubPostDto.content}">게시글의 내용이 출력되는 부분입니다</span>
                            </div>
                        </div>

                        <!-- 사진 출력 -->
                        <div class="row">
                            <div class="col">
                                <img
                                    th:each="clubPostImageDto : ${clubPostImageDtoList}"
                                    th:src="|/images/${clubPostImageDto.post_img_location}|"
                                    class="img-fluid"
                                >
                            </div>
                        </div>

                    </div>
                </div>

                <!-- 댓글 입력 -->

            <div class="row pt-2">
                <div class="col">

                    <div class="row">
                        <div class="col">

                            <div class="row pb-1">
                                <div class="col-8 fw-semibold">
                                    <span style="font-size: 0.8em">댓글 </span>
                                    <!-- <span style="font-size: 0.8em" th:text="${readPostMap.totalCommentEachPost}"></span> -->
                                </div>
                                <div class="col ms-0">
                                    <!-- <div class="row" th:if="${oldestFirst == false}"> -->
                                        
                                        <div class="col pe-0 text-end fw-bold">
                                            <!-- <a th:href="@{/freeboard/readPost(id=${readPostMap.freeboardPostDto.id}, oldestFirst=false)}"><span style="font-size: 0.9em">최신순</span></a> -->
                                        </div>
                                        <div class="col px-2 text-secondary">
                                            <!-- <a th:href="@{/freeboard/readPost(id=${readPostMap.freeboardPostDto.id}, oldestFirst=true)}"><span style="font-size: 0.9em">등록순</span></a> -->
                                        
                                        </div>
                                    </div>
                                    <!-- <div class="row" th:if="${oldestFirst == true}"> -->
                                        
                                        <div class="col pe-0 text-end text-secondary">
                                            <!-- <a th:href="@{/freeboard/readPost(id=${readPostMap.freeboardPostDto.id}, oldestFirst=false)}"><span style="font-size: 0.9em">최신순</span></a> -->
                                        </div>
                                        <div class="col px-2 fw-bold">
                                            <!-- <a th:href="@{/freeboard/readPost(id=${readPostMap.freeboardPostDto.id}, oldestFirst=true)}"><span style="font-size: 0.9em">등록순</span></a> -->
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="row" th:each="postCommentDetail : ${postCommentDetailList}">
                                <div class="col">

                                    <div class="row py-3 border-bottom">
                                        <div class="col-2" >
                                            <!-- <img src="/public/img/clubImage/mangleProfile.jpg" class="img-fluid rounded-circle" style="aspect-ratio: 1/1;"> -->
                                            <img th:src="|/image/${postCommentDetail.userDto.profile_image}|" class="img-fluid rounded-circle"  style="aspect-ratio: 1/1;">
                                        </div>
                                        <div class="col">
                                            <div class="row" style="font-size:0.9em">
        
                                                <div class="col ps-0">
                                                    <!-- <a th:href="@{/freeboard/myPage(id=${commentDetail.memberDto.id})}"> -->
                                                        <span class="fw-bold" th:text="${postCommentDetail.userDto.nickname}">닉네임출력</span>
                                                    <!-- </a> -->
                                                </div>
                                                <!-- <div class="col text-end">
                                                    <a th:href="@{/freeboard/deleteCommentProcess(id=${commentDetail.freeboardCommentDto.id}, post_id=${commentDetail.freeboardCommentDto.post_id})}"
                                                        th:if="${session.sessionUserInfo != null and session.sessionUserInfo.id == postCommentDetail.clubPostCommentDto.user_id}">
                                                        <span class="col text-secondary pe-2" style="font-size: 0.9em"><i class="bi bi-trash3"></i> 삭제</span>
                                                    </a>
                                                </div> -->
        
                                                <!-- <div class="col text-end pt-1 pe-4 text-secondary" style="font-size:0.8em" th:if="${session.sessionUserInfo != null and session.sessionUserInfo.id == postCommentDetail.clubPostCommentDto.user_id}"> -->
                                                    <!-- <a th:href="@{/freeboard/updatePost(id=${readPostMap.freeboardPostDto.id})}">수정</a> -->
                                                    <!-- <a th:href="@{/freeboard/deletePostProcess(id=${readPostMap.freeboardPostDto.id})}">삭제</a> -->
                                                <!-- </div> -->
                                        </div>
                                        <div class="row text-secondary" style="font-size:0.8em">
                                            <div class="col ps-0">
                                                <span th:text="${#dates.format(postCommentDetail.clubPostCommentDto.created_at,'yy.MM.dd')}"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="row pt-2">
                                                    <div class="col ps-0">
                                                        <span th:text="${postCommentDetail.clubPostCommentDto.content}">본문</span>
                                                    </div>
                                                </div>
        
                                                <div class="row">
                                                    <div class="col">
        
                                                        <div class="row pt-2">
                                                            <div class="col-auto ps-0 pe-2 text-secondary" style="font-size: 0.8em">
                                                                <i class ="bi bi-heart"></i><span class=""></span> 추천
                                                            </div>
                                                            <div class="col-auto px-0 text-secondary" style="font-size: 0.8em">
                                                                <!-- <a href="/freeboard/writeNestedComment"> -->
                                                                    <i class ="bi bi-chat"></i><span class=""></span> 댓글쓰기
                                                                </a>

                                                                
                                                            </div>
                                                        </div>
                                                         
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            

                            </div>

                        
                            </div>


                        </div>
                    </div>

                </div>







                
            </div>
        </div>
    </div>

    <div class="container-fluid fixed-bottom shadow-lg" th:if="${session.sessionUserInfo != null}">
        <form action="/club/writeCommentProcess" method="post" class="row bg-white pb-3 pt-2">
    
                    <div class="col align-self-center text-center me-0 pe-0 fs-1">
                        <a href="">
                            <i class="bi bi-image"></i>
                        </a>
                    </div>
                    <div class="col-7 px-0 align-self-center">
                        <input name="content" class="form-control align-self-center" type="text" placeholder="댓글을 입력해주세요.">
                    </div>
    
                     <div class="col align-self-center text-center ps-2">
    
                         <button class="btn form-control btn-dark text-center">등록</button>
    
                        <input name="user_id" type="hidden" th:value="${session.sessionUserInfo.id}">
                        <input name="post_id" type="hidden" th:value="${map.clubPostDto.id}">
    
                    </div>
    
        </form>
    </div>
    
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
   
</body>
</html>
