<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" >
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="/public/css/common.css">
        <link rel="stylesheet" href="/public/css/basecamp.css">
        <title>BASECAMP</title>
        <style>
            .fixed-button {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 1000; /* 필요에 따라 값 조정 */
                background-color: #00B8FF;
                color: white;
                width: 60px;
                height: 60px;
                padding: 10px 20px;
                border-radius: 50%;
                text-align: center;
                box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .fixed-button i {
                font-size: 24px;
            }

            :root {
                --nav-underline-border-width: 2px; /* 밑줄의 두께 */
                --nav-link-active-color: #000000; /* 선택된 탭 텍스트 색상 및 밑줄 색상 */
                --nav-inactive-border-color: #e0e0e0; /* 비활성화된 탭 밑줄 색상 (밝은 회색) */
            }

            .nav-underline {
                display: flex;
                justify-content: space-around;
                position: relative;
                border-bottom: var(--nav-underline-border-width) solid var(--nav-inactive-border-color); /* 회색 실선 */
            }

            .nav-item {
                flex: 1;
            }

            .nav-link {
                padding-bottom: 0.5rem; /* 탭과 밑줄 사이의 간격 */
                color: #000000; /* 기본 탭 텍스트 색상 */
                text-decoration: none;
                position: relative;
                display: inline-block;
                width: 100%;
                text-align: center; /* 텍스트 가운데 정렬 */
            }

            .nav-link.active {
                color: var(--nav-link-active-color); /* 선택된 탭 색상 */
            }

            .nav-link.active::after {
                content: '';
                position: absolute;
                bottom: -1px; /* 밑줄을 실선과 같은 위치에 표시 */
                left: 0;
                right: 0;
                height: var(--nav-underline-border-width); /* 실선 두께 유지 */
                background-color: var(--nav-link-active-color); /* 진한 밑줄 색상 */
            }

            /* 비활성화된 탭의 얇은 회색 밑줄 */
                body {
                display: flex;
                justify-content: center;
                /* align-items: center; */
                height: 100vh;
                margin: 0;
            }

            .centered-circle {
                width: 37px;
                height: 37px;
                background-color: #ffffff;
                border: 1px solid #dee2e6;
                border-radius: 50%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: #000000;
                font-size: 14px;
                font-weight: normal;
            }

            .thicker-light-border {
                border-bottom: 7px solid #dee2e6;
            }

            .date-circle {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            transition: background-color 0.3s, color 0.3s;
            cursor: pointer;
            color: #999999; /* 기본적으로 회색 텍스트 */
        }

        .date-circle.selected {
            background-color: black;
            color: white; /* 선택된 상태에서 텍스트 색상 변경 */
        }

        .date-circle .meeting-day {
            font-size: 0.8em;
            font-weight: 300;
            line-height: 1; 
            /* 줄 간격을 줄여서 요소 간격을 좁힘 */
        }

        .date-circle .meeting-date {
            font-size: 0.9em;
            font-weight: 600;
            /* line-height: 1;  */
            /* 줄 간격을 줄여서 요소 간격을 좁힘 */
        }

        .date-container {
            display: flex;
            justify-content: space-between;
            max-width: 400px;
            margin: 0 auto;
        }

        .date-container .col {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .img-container {
            position: relative;
        }

        .overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 19%; /* 반투명 영역 높이 */
            background: rgba(0, 0, 0, 0.5); /* 반투명 검은색 배경 */
            border-bottom-left-radius: 0.25rem; /* 이미지의 둥근 모서리와 맞춤 */
            border-bottom-right-radius: 0.25rem; /* 이미지의 둥근 모서리와 맞춤 */
        }

        .text-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 0.8em;
            padding: 0.05em 0; /* 텍스트에 패딩 추가 */
            font-weight: 300;
        }

        /* 작성 버튼 */
            /* 스크롤 시 텍스트 숨기기 */
            .scroll-text {
                transition: opacity 0.3s ease, max-width 0.3s ease; /* 부드러운 애니메이션 */
                opacity: 1;
                max-width: 12.5em; /* 초기 최대 너비 설정 */
                overflow: hidden; /* 숨겨진 부분은 표시하지 않음 */
                white-space: nowrap;
                visibility: visible; /* 텍스트 가시성 */
                padding-right: 0;
            }

            #scrollButton.small .scroll-text {
                opacity: 0; /* 텍스트를 투명하게 만듦 */
                max-width: 0; /* 너비를 0으로 설정하여 숨김 */
                visibility: hidden; /* 텍스트를 숨김 */
                padding: 0;
            }

            #scrollButton.small {
                padding-right: 0.83em !important;
                font-size: 1.165em;
            }
            /* 작성 버튼 끝 */
        
 
        </style>
    </head>
    <body>
        
        <div class="container-fluid fixed-top bg-white">
            <div class="row pt-3 pb-2 bg-white">
                <a href="/club/main" class="col-2 ps-2 justify-content-center align-items-center d-flex">
                    <span class="material-symbols-outlined">close</span>
                </a>
                <span class="col text-center fw-medium" th:text="${clubDto.name}"> 정기모임</span>
                <div class="col-2"></div>
            </div>
            <div class="row px-0">
                <div class="col">
                    <!-- 네비바 -->
                    <div class="row bg-white text-center nav border-bottom">
                        <div class="col p-0 nav-item">
                            <a class="nav-link"  th:href="@{/club/home(id=${id})}" style="font-size: 0.9em;">홈</a>
                        </div>
                        <div class="col p-0 nav-item">
                            <a class="nav-link active fw-medium" aria-current="page" th:href="@{/club/meeting(id=${id})}" style="font-size: 0.9em;">정모</a>
                        </div>
                        <div class="col p-0 nav-item">
                            <a class="nav-link"  th:href="@{/club/board(id=${id})}" style="font-size: 0.9em;">게시판</a>
                        </div>
                        <div class="col p-0 nav-item">
                            <a class="nav-link"  th:href="@{/club/album(id=${id})}" style="font-size: 0.9em;">사진첩</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container pb-5" style="padding-top: 75.22px;">

            <div class="row pb-5 bg-white">
                <div class="col  mb-5 pb-5">

                    <div class="row px-3 pt-5 pb-3">
                        <div class="col ps-0 fw-semi-bold">
                            다가오는 정기모임, 잊지 마세요!
                        </div>
                    </div>

                    <div class="date-container">
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                    </div>
                    <div class="row pt-3 px-2">
                        <div class="col" id="upcoming-meeting-wrapper-box">
                            
                        </div>
                    </div>

                </div>
            </div>


              <!-- 정기모임 템플릿 -->
               <div class="col d-none" id="upcoming-meeting-template">
                <div class="row pt-1 px-3 upcoming-meeting-wrapper">
                    <div class="col">
                        <div class="row justify-content-center">
                            <div class="col border rounded shadow-sm pt-2 pb-3">
    
                                <div class="row">
                                    <div class="col">
                                        <div class="row pb-1 pt-1">
                                            <div class="col" style="font-size: 0.9em;">
                                                <span class="d-day text-danger fw-medium"></span>
                                                <span class="upcoming-meeting-name"></span>
                                            </div>
                                        </div>
                                        
                                        <div class="row pb-2 mb-2">
                                            <div class="col text-secondary" style="font-size: 0.8em;">
                                                <span class="upcoming-meeting-description"></span>
                                                <!-- <span th:text="${meetingData.clubMeetingDto.description}"></span> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-auto text-end align-items-center d-flex">
                                        <div class="col-auto align-self-center">
                                            <div class="row">
                                                <div class="col">
                                                    <button type="button" class="btn btn-outline-secondary join-meeting-btn">참석</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                     
    
                                <div class="row">
                                    <div class="col">
                                        <div class="row">
                                            <div class="col-auto">  
                                                <img class="rounded-2 upcoming-meeting-image" style="width: 9em; height: 6em; object-fit: cover;">
                                            </div>
                                            <div class="col ps-1" style="font-size: 0.8em;">
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">일시</span>
                                                        <span class="upcoming-meeting-date"></span>
                                                        
                                                        <!-- <span th:text="${#dates.format(meetingData.clubMeetingDto.meeting_date, 'yyyy.MM.dd')}"></span> -->
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">위치</span>
                                                        <span class="upcoming-meeting-location"></span>
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">비용</span>
                                                        <span class="upcoming-meeting-fee"></span>
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">참석</span> 
                                                        <span class="text-danger upcoming-member-count"></span> / <span class="upcoming-capacity"></span>
                                                        <span class="text-secondary remainCapacity"></span>
                                                    </div>   
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-2">
                                            <div class="col">
                                                <span class="text-secondary" style="font-size: 0.8em;">
                                                    참석 멤버
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mt-1" id="join-member-profile-box">
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
               </div>



               <!-- footer 시작 -->
                <div class="row py-4 px-3 bg-body-secondary text-secondary">
                    <div class="col">
                        <div class="row pb-2">
                            <div class="col p-0 fw-bold fs-3 d-flex align-items-center">
                                <span class="material-symbols-outlined">camping</span>
                                <span class="ms-1">BASECAMP</span>
                            </div>
                        </div>
                        <div class="row pb-3 border-bottom border-2">
                            <div class="col p-0 f08">
                                BASECAMP는 통신판매 중개자로서 통신판매의 당사자가 아니며 상품의 예약, 이용 및 환불 등과 관련한 의무와 책임은 각 판매자에게 있습니다.
                            </div>
                        </div>

                        <div class="row pt-3 py-3 border-bottom border-2">
                            <div class="col-auto p-0">
                                <button class="btn btn-sm bg-dark-subtle text-white fw-bold f08 d-flex align-items-center">
                                    <span class="material-symbols-outlined" style="font-size: 1rem; line-height: 1;">phone_in_talk</span>
                                    <span class="ms-1" style="font-size: 0.8rem;">고객센터</span>
                                </button>
                            </div>
                            <div class="col-auto">
                                <button class="btn btn-sm bg-dark-subtle text-white fw-bold f08" style="font-size: 0.8rem;">
                                    카카오 1:1 문의
                                </button>
                            </div>
                            <div class="col p-0 f08">
                                <div class="row">
                                    <div class="col">
                                        <span>평일</span> : 10:00 ~ 17:00
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <span>점심</span> : 12:00 ~ 13:00
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <span>※</span><span>주말 공휴일 휴무</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row pt-3 mb-4 pb-5 align-items-center">
                            <div class="col-auto me-2 bg-dark-subtle rounded-circle d-flex align-items-center" style="aspect-ratio: 1/1;">
                                <i class="bi bi-google-play"></i>
                            </div>
                            <div class="col-auto me-2 bg-dark-subtle rounded-circle d-flex align-items-center" style="aspect-ratio: 1/1;">
                                <i class="bi bi-youtube"></i>
                            </div>
                            <div class="col-auto me-2 bg-dark-subtle rounded-circle d-flex align-items-center" style="aspect-ratio: 1/1;">
                                <i class="bi bi-instagram"></i>
                            </div>
                            <div class="col-auto pe-0 f08">
                                이용약관
                            </div>
                            <div class="col f08">
                                개인정보처리방침
                            </div>
                        </div>
                    </div>
                </div>
                <!-- footer 끝 -->


        
        </div>

        <div class="row d-none" id="join-member-profile-template">
        <div class="col-2 wrapper seller_profile">
            <img class="join-member-profile img-fluid rounded-circle"  style="aspect-ratio: 1/1;">                  
        </div>
        </div>
          

     

        <!-- 정모 생성 버튼 -->
        <div class="container fixed-bottom mb-5 pb-4">
            <div class="row justify-content-end mb-4 pb-2 pe-3">
                <a th:if="${isMemberInClub == 1}" th:href="@{/club/createNewMeeting(id=${id})}" id="scrollButton" class="col-auto lightBg ps-1 pe-4 py-1 shadow rounded-pill text-decoration-none">
                    <div class="row text-dark">
                        <div class="col-auto pe-0 align-self-center d-flex">
                            <span class="material-symbols-outlined text-white" style="font-size: 2em;">add</span>
                        </div>
                        <div class="col-auto px-0 btn-text fw-medium text-white d-flex align-self-center text-center scroll-text text-primary-0" style="letter-spacing: -0.5px;">
                            정모 개설
                        </div>
                    </div>
                </a>
            </div>
        </div>
         
        <script src="/public/js/lockLikeMobile.js"></script>
        <script src="/public/js/club/clubMeeting.js"></script> 
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
       
        <script src="https://kit.fontawesome.com/7b271bba58.js" crossorigin="anonymous"></script>
        <script>
            // 스크롤 이벤트 감지
            window.onscroll = function() {
                scrollFunction();
            };
        
            function scrollFunction() {
                const scrollButton = document.getElementById("scrollButton");
                if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
                    scrollButton.classList.add("small"); // 스크롤이 내려갈 때 버튼을 축소
                } else {
                    scrollButton.classList.remove("small"); // 스크롤이 맨 위에 있을 때 전체 버튼 표시
                }
            }
        </script>
    </body>
</html>