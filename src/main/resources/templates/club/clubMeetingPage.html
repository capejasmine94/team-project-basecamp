<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" >
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

        <link rel="stylesheet" href="/public/css/common.css">
        <link rel="stylesheet" href="/public/css/basecamp.css">
        <style>
            .fixed-button {
                position: fixed;
                bottom: 20px;
                right: 20px;
                z-index: 1000; /* 필요에 따라 값 조정 */
                background-color: #00B8FF;
                color: white;
                width: 60px;
                height: 60px;
                padding: 10px 20px;
                border-radius: 50%;
                text-align: center;
                box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3);
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .fixed-button i {
                font-size: 24px;
            }

            :root {
                --nav-underline-border-width: 2px; /* 밑줄의 두께 */
                --nav-link-active-color: #000000; /* 선택된 탭 텍스트 색상 및 밑줄 색상 */
                --nav-inactive-border-color: #e0e0e0; /* 비활성화된 탭 밑줄 색상 (밝은 회색) */
            }

            .nav-underline {
                display: flex;
                justify-content: space-around;
                position: relative;
                border-bottom: var(--nav-underline-border-width) solid var(--nav-inactive-border-color); /* 회색 실선 */
            }

            .nav-item {
                flex: 1;
            }

            .nav-link {
                padding-bottom: 0.5rem; /* 탭과 밑줄 사이의 간격 */
                color: #000000; /* 기본 탭 텍스트 색상 */
                text-decoration: none;
                position: relative;
                display: inline-block;
                width: 100%;
                text-align: center; /* 텍스트 가운데 정렬 */
            }

            .nav-link.active {
                color: var(--nav-link-active-color); /* 선택된 탭 색상 */
            }

            .nav-link.active::after {
                content: '';
                position: absolute;
                bottom: -1px; /* 밑줄을 실선과 같은 위치에 표시 */
                left: 0;
                right: 0;
                height: var(--nav-underline-border-width); /* 실선 두께 유지 */
                background-color: var(--nav-link-active-color); /* 진한 밑줄 색상 */
            }

            /* 비활성화된 탭의 얇은 회색 밑줄 */
                body {
                display: flex;
                justify-content: center;
                /* align-items: center; */
                height: 100vh;
                margin: 0;
            }

            .centered-circle {
                width: 37px;
                height: 37px;
                background-color: #ffffff;
                border: 1px solid #dee2e6;
                border-radius: 50%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: #000000;
                font-size: 14px;
                font-weight: normal;
            }

            .thicker-light-border {
                border-bottom: 7px solid #dee2e6;
            }

            .date-circle {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            transition: background-color 0.3s, color 0.3s;
            cursor: pointer;
            color: #999999; /* 기본적으로 회색 텍스트 */
        }

        .date-circle.selected {
            background-color: black;
            color: white; /* 선택된 상태에서 텍스트 색상 변경 */
        }

        .date-circle .meeting-day {
            font-size: 0.8em;
            font-weight: 300;
            line-height: 1; 
            /* 줄 간격을 줄여서 요소 간격을 좁힘 */
        }

        .date-circle .meeting-date {
            font-size: 0.9em;
            font-weight: 600;
            /* line-height: 1;  */
            /* 줄 간격을 줄여서 요소 간격을 좁힘 */
        }

        .date-container {
            display: flex;
            justify-content: space-between;
            max-width: 400px;
            margin: 0 auto;
        }

        .date-container .col {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .img-container {
            position: relative;
        }

        .overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 19%; /* 반투명 영역 높이 */
            background: rgba(0, 0, 0, 0.5); /* 반투명 검은색 배경 */
            border-bottom-left-radius: 0.25rem; /* 이미지의 둥근 모서리와 맞춤 */
            border-bottom-right-radius: 0.25rem; /* 이미지의 둥근 모서리와 맞춤 */
        }

        .text-overlay {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 0.8em;
            padding: 0.05em 0; /* 텍스트에 패딩 추가 */
            font-weight: 300;
        }
        
 
        </style>
    </head>
    <body>
        <div class="container-fluid fixed-top">
            <div class="row pt-3 pb-2 bg-white">
                <div class="col-2 ps-1 align-items-center d-flex ps-0"><span onclick="history.back()" class="material-symbols-outlined">arrow_back</span></div>
                <span class="col text-center"> 정기모임</span>
                <div class="col-2"></div>
            </div>
            <div class="row px-0">
                <div class="col">
                    <!-- 네비바 -->
                    <div class="row bg-white text-center nav border-bottom">
                        <div class="col p-0 nav-item">
                            <a class="nav-link"  th:href="@{/club/home(id=${id})}" style="font-size: 0.9em;">홈</a>
                        </div>
                        <div class="col p-0 nav-item">
                            <a class="nav-link active fw-medium" aria-current="page" th:href="@{/club/meeting(id=${id})}" style="font-size: 0.9em;">정모</a>
                        </div>
                        <div class="col p-0 nav-item">
                            <a class="nav-link"  th:href="@{/club/board(id=${id})}" style="font-size: 0.9em;">게시판</a>
                        </div>
                        <div class="col p-0 nav-item">
                            <a class="nav-link"  th:href="@{/club/album(id=${id})}" style="font-size: 0.9em;">사진첩</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container" style="padding-top: 75.22px;">

            <div class="row bg-white">
                <div class="col">

                    <div class="row px-3 pt-4 pb-3">
                        <div class="col ps-0 fw-semi-bold">
                            다가오는 정기모임, 잊지 마세요!
                        </div>
                    </div>

                    <div class="date-container">
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                        <div class="date-circle">
                            <div class="meeting-day"></div>
                            <div class="meeting-date"></div>
                        </div>
                    </div>
                    <div class="row pt-3 px-2">
                        <div class="col" id="upcoming-meeting-wrapper-box">
                            
                        </div>
                    </div>

                </div>
            </div>


              <!-- 정기모임 템플릿 -->
               <div class="col d-none" id="upcoming-meeting-template">
                <div class="row pt-3 upcoming-meeting-wrapper">
                    <div class="col">
                        <div class="row justify-content-center">
                            <div class="col border rounded shadow-sm pt-2 pb-3">
    
                                <div class="row">
                                    <div class="col">
                                        <div class="row pb-1 pt-1">
                                            <div class="col" style="font-size: 0.9em;">
                                                <span class="d-day text-danger fw-medium"></span>
                                            
                                            </div>
                                        </div>
                                        
                                        <div class="row pb-1 pt-1">
                                            <div class="col ellipsis-line-one" style="font-size: 0.9em;">
                                                <span class="upcoming-meeting-name"></span>
                                            </div>
                                        </div>
                                        <div class="row pb-2 mb-2">
                                            <div class="col ellipsis-line-two text-secondary" style="font-size: 0.8em;">
                                                <span class="upcoming-meeting-description"></span>
                                                <!-- <span th:text="${meetingData.clubMeetingDto.description}"></span> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-auto text-end align-items-center d-flex">
                                        <div class="col-auto align-self-center">
                                            <div class="row">
                                                <div class="col">
                                                    <button type="button" class="btn btn-outline-secondary join-meeting-btn">참석</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                     
    
                                <div class="row">
                                    <div class="col">
                                        <div class="row">
                                            <div class="col-auto">  
                                                <img class="rounded-2 upcoming-meeting-image" style="width: 7em; height: 5em; object-fit: cover;">
                                            </div>
                                            <div class="col ps-1" style="font-size: 0.8em;">
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">일시</span>
                                                        <span class="upcoming-meeting-date"></span>
                                                        
                                                        <!-- <span th:text="${#dates.format(meetingData.clubMeetingDto.meeting_date, 'yyyy.MM.dd')}"></span> -->
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">위치</span>
                                                        <span class="upcoming-meeting-location"></span>
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">비용</span>
                                                        <span class="upcoming-meeting-fee"></span>
                                                    </div>   
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <span class="text-secondary">참석</span> 
                                                        <span class="text-danger upcoming-member-count"></span> / <span class="upcoming-capacity"></span>
                                                        <span class="text-secondary remainCapacity"></span>
                                                    </div>   
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pt-2">
                                            <div class="col">
                                                <span class="text-secondary" style="font-size: 0.8em;">
                                                    참석 멤버
                                                </span>
                                            </div>
                                        </div>
                                        <div class="row mt-1" id="join-member-profile-box">
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
               </div>
        
        </div>

        <div class="row d-none" id="join-member-profile-template">
        <div class="col-2 wrapper seller_profile">
            <img class="join-member-profile img-fluid rounded-circle"  style="aspect-ratio: 1/1;">                  
        </div>
        </div>
          

        <!--커뮤니티 하단네비 -->
        <div th:fragment="bottomNaviBasecamp" class="container-fluid g-0 border-top bg-white fixed-bottom pb-3">
            <div class="row mx-1 py-2 text-center">
                
                <!--HOME-->
                <a href="/" class="col icon-and-text">
                    <span class="material-symbols-outlined fw-light" style="font-size: 1.8em; color: darkgray;">
                        home
                    </span>
                    <span class="text-navi pt-1" style="font-size: 0.7em; color: darkgray">홈</span>
                </a>        

                <!--구매-->
                <div class="col icon-and-text dropdown dropup">
                    <span data-bs-toggle="dropdown" class="material-symbols-outlined fw-light" style="font-size: 1.7em; color: darkgray;">
                        storefront
                    </span>
                    <span class="text-navi pt-1" style="font-size: 0.7em; color: darkgray;">구매</span>
                    <ul class="dropdown-menu custom-dropdown-menu">
                        <!-- 변초연 -->
                        <a class="dropdown-item col" href="/store">
                            <div class="row w-100">
                                <div class="col-auto d-flex">
                                    <span class="material-symbols-outlined pe-1 ps-1 fw-light">
                                        shopping_bag
                                    </span>
                                    <span style="font-size: 0.9em;">스토어</span>
                                </div>
                            </div>
                        </a>
                        <!-- 심규진 -->
                        <a class="dropdown-item col" href="/secondhandProduct/mainPage">
                            <div class="row w-100">
                                <div class="col-auto d-flex">
                                    <span class="material-symbols-outlined pe-1 ps-1 fw-light">
                                        eco
                                    </span>
                                    <span style="font-size: 0.9em;">중고</span>
                                </div>
                            </div>
                        </a>
                    </ul>
                </div>

                <!--예약-->
                <div class="col icon-and-text dropdown dropup">
                    <span data-bs-toggle="dropdown" class="material-symbols-outlined fw-light" style="font-size: 1.7em; color: darkgray;">
                        event_available
                    </span>
                    <span class="text-navi pt-1" style="font-size: 0.7em; color: darkgray;">예약</span>
                    <ul class="dropdown-menu row custom-dropdown-menu">
                        <!-- 조준희 -->
                        <a class="dropdown-item col" href="/camp/main">
                            <div class="row w-100">
                                <div class="col-auto d-flex">
                                    <span class="material-symbols-outlined pe-1 ps-1 fw-light">
                                        camping
                                    </span>
                                    <span style="font-size: 0.9em;">캠핑장</span>
                                </div>
                            </div>
                        </a>
                        <!-- 양은자 -->
                        <a class="dropdown-item col" href="/campingcar/main">
                            <div class="row w-100">
                                <div class="col-auto d-flex">
                                    <span class="material-symbols-outlined pe-1 ps-1 fw-light">
                                        airport_shuttle
                                    </span>
                                    <span style="font-size: 0.9em;">캠핑카</span>
                                </div>
                            </div>
                        </a>
                    </ul>
                </div>

                <!--커뮤-->
                <div class="col icon-and-text dropdown dropup">
                    <span data-bs-toggle="dropdown" class="material-symbols-outlined fw-light" style="font-size: 1.7em;">
                        forum
                    </span>
                    <span class="text-navi pt-1 fw-bold" style="font-size: 0.7em;">커뮤니티</span>
                    <ul class="dropdown-menu custom-dropdown-menu">
                        <!-- 이시은 -->
                        <a class="dropdown-item col" href="/club/main">
                            <div class="row w-100">
                                <div class="col-auto d-flex">
                                    <span class="material-symbols-outlined pe-1 ps-1 fw-light">
                                        group
                                    </span>
                                    <span style="font-size: 0.9em;">소모임</span>
                                </div>
                            </div>
                        </a>
                        <!-- 남현지 -->
                        <a class="dropdown-item col" href="/insta/instaMainPage">
                            <span>
                                <img src="/public/img/instaImage/campstagram.png" class="img-fluid">
                            </span>
                        </a>
                    </ul>
                </div>
                
                <!--내정보-->
                <a class="col icon-and-text" href="/user/login" th:if="${session.sessionUserInfo == null}">
                    <span class="material-symbols-outlined pe-1 ps-1 fw-light"style="font-size: 1.7em; color: darkgray;">
                        person
                    </span>
                    <span class="text-navi pt-1" style="font-size: 0.7em; color: darkgray;">마이</span>
                </a>
                <a class="col icon-and-text" href="/user/myPage" th:unless="${session.sessionUserInfo == null}">
                    <span class="material-symbols-outlined pe-1 ps-1 fw-light"style="font-size: 1.7em; color: darkgray;">
                        person
                    </span>
                    <span class="text-navi pt-1" style="font-size: 0.7em; color: darkgray;">마이</span>
                </a>
            </div>
        </div>

        <!-- 게시글 작성하기 -->
        <div class="container fixed-bottom mb-5 pb-4 pe-2">
            <div class="row justify-content-end mb-4 pe-3">
                <a th:if="${session.sessionUserInfo != null}" th:href="@{/club/writePost(id=${id})}" class="col-auto bg-light ps-2 py-2 shadow rounded-pill text-decoration-none">
                    <div class="row text-dark">
                        <div class="col-auto pe-0 align-self-center d-flex">
                            <span class="material-symbols-outlined fs-3">add</span>
                        </div>
                        <div class="col ps-0 fs-7 fw-medium d-flex align-self-center text-center" style="letter-spacing: -0.5px;">
                            글 작성
                        </div>
                    </div>
                </a>
            </div>
        </div>
         
        <script src="/public/js/lockLikeMobile.js"></script>
        <script src="/public/js/club/clubMeeting.js"></script> 
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>