<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" >
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="/public/css/common.css">
        <link rel="stylesheet" href="/public/css/basecamp.css">
        <script src="/public/js/util.js"></script>
        

        <style>
        .counter-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 12.5rem; /* 200px -> 12.5rem */
            margin: 0 auto;
        }

        .counter-button {
            display: inline-block;
            width: 1.875rem; /* 30px -> 1.875rem */
            height: 1.875rem; /* 30px -> 1.875rem */
            border-radius: 50%;
            border: 0.0625rem solid black; /* 2px -> 0.125rem */
            text-align: center;
            line-height: 1.75rem; /* 26px -> 1.75rem */
            font-weight: 300; /* 폰트 굵기를 얇게 설정 */
            font-size: 1.25rem; /* 20px -> 1.25rem */
            cursor: pointer;
        }

        .counter-value {
            font-size: 1.25rem; /* 20px -> 1.25rem */
            font-weight: bold;
        }

        .label {
            text-align: center;
            margin-bottom: 0.625rem; /* 10px -> 0.625rem */
            font-size: 1rem; /* 16px -> 1rem */
        }
        </style>
    </head>
    <body>
      
        <div class="container px-3 bg-body-tertiary">

            <div class="row pt-5 py-3 bg-white">
                <div class="col fs-5">
                    <span class="fw-semibold lightFont" th:text="${session.sessionUserInfo.nickname}"></span> 님, <br>어떤 소모임을 만드실 건가요?</span>
                </div>
            </div>

            <form action="/club/createNewMeetingProcess" class="row" method="post" enctype="multipart/form-data">
                <input name="user_id" type="hidden" th:value="${session.sessionUserInfo.id}" >
                <input name="club_id" type="hidden" th:value="${clubId}">

                    <div class="col">
                         <!-- 정모 개설 -->
                        <div class="row mt-2 bg-white">
                            <div class="col">
                                <div class="row py-3">
                                    <div class="row">
                                        <div class="col">
                                            Step <span class="lightFont">1</span><span>/2</span>
                                        </div>
                                    </div>
                                    <div class="row pb-3">
                                        <div class="col">
                                            소모임을 소개해주세요.
                                         </div>
                                    </div>
                                </div>
                        
                                <div class="row">
                                    <div class="col fw-semibold" style="font-size: 0.8em;">
                                        소모임 대표 사진을 등록해 주세요.
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col" id="upload_main_img"></div>
                                </div>
                                <div class="row">
                                    <div class="col align-items-center d-flex text-secondary" style="font-size: 0.8em;">
                                        <span class="material-symbols-outlined thin-icon">
                                            error
                                        </span>
                                        <span>
                                            미등록 시 기본 사진으로 랜덤 설정돼요.
                                        </span>
                                    </div>
                                </div>

                                       <!-- 카테고리 -->
                             <div class="row pt-5">
                                <div class="col-6">
                                    <select name="region_id" class="form-select form-control">
                                        <option selected>
                                            지역
                                        </option>
                                        <option th:each="regionCategoryDto : ${regionCategoryDtoList}"
                                                th:value="${regionCategoryDto.id}"
                                                th:text="${regionCategoryDto.region_name}">
                                        </option>
                                    </select>
                                </div>
                                <div class="col">
                                    <select name="category_id" class="form-select form-control">
                                        <option selected>
                                            관심사
                                        </option>
                                        <option th:each="clubCategoryDto : ${clubCategoryDtoList}"
                                                th:value="${clubCategoryDto.id}"
                                                th:text="${clubCategoryDto.category_name}">
                                        </option>
                                    </select>
                                </div>

                            </div>


                                <div class="row pt-2">
                                    <div class="col">
                                        <span class="fw-semibold" style="font-size: 0.8em;">소모임명</span>
                                    </div>
                                </div>
                                <div class="row pt-1">
                                    <div class="col">
                                        <input class="form-control" name="name" type="text" placeholder="소모임 이름을 입력해 주세요.">
                                    </div> 
                                </div>

                                <div class="row pt-2">
                                    <div class="col">
                                        <span class="fw-semibold" style="font-size: 0.8em;">소모임 소개</span>
                                    </div>
                                </div>
                                <div class="row pt-1 py-4">
                                    <div class="col">
                                        <textarea class="form-control" name="description" id="description" type="text" placeholder="소모임 소개글을 입력해 주세요."></textarea>
                                    </div>
                                </div>

                            </div>
                        </div>

    
                        <div class="row mt-3 bg-white">
                            <div class="col">
                                <div class="row py-3">
                                    <div class="row">
                                        <div class="col">
                                            Step <span class="lightFont">2</span><span>/</span>2
                                        </div>
                                    </div>
                                    <div class="row pb-3">
                                        <div class="col">
                                            멤버를 어떻게 모집할까요?
                                         </div>
                                    </div>
                                    <div class="row border rounded bg-body-tertiary text-secondary" style="font-size: 0.8em;">
                                        <div class="col align-items-center d-flex">
                                            <span class="material-symbols-outlined thin-icon">error</span>
                                            과도한 개인 정보 요구(전화번호, 카카오톡 아이디 등) 및 타 플랫폼으로 유도하는 경우 가이드 위반으로 경고 및 제재를 받게돼요.
                                        </div>
                                    </div>
                                </div>
<!--                         
                                <div class="row">
                                    <div class="col fw-semibold" style="font-size: 0.8em;">
                                        모집 방법
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-6">
                                        <input type="radio" class="btn-check" name="options-outlined" id="none-condition" autocomplete="off" checked>
                                        <label class="btn btn-outline-success" for="success-outlined">바로 참여</label>
                                    </div>
                                    <div class="col-6">
                                        <input type="radio" class="btn-check" name="options-outlined" id="condition" autocomplete="off" checked>
                                        <label class="btn btn-outline-success" for="success-outlined">승인 후 참여</label>
                                    </div>
                                </div> -->

                                <div class="row pt-2">
                                    <div class="col">
                                        <span class="fw-semibold" style="font-size: 0.8em;">최대 모집 인원</span>
                                    </div>
                                </div>
                                <div class="row pt-1">
                                    <div class="col counter-container">
                                        <div class="counter-button" onclick="decrement()">&#8722;</div>
                                        <div class="counter-value lightFont" id="counter">10명</div>
                                        <div class="counter-button" onclick="increment()">&#43;</div>
                                        <!-- 숨겨진 input 필드 추가 -->
                                        <input type="hidden" name="capacity" id="hiddenCapacity" value="10">
                                    </div>
                                </div>
                                <div class="row border rounded bg-body-tertiary text-secondary" style="font-size: 0.8em;">
                                    <div class="col align-items-center d-flex">
                                        <span class="material-symbols-outlined thin-icon">error</span>
                                        최대 모집 인원에는 소모임장이 포함돼요.
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <span class="fw-semibold" style="font-size: 0.8em;">연령</span>
                                    </div>
                                </div>
                               <!-- 출생연도 범위 설정 -->
                                <div class="row py-3">                        
                                    <div class="col d-grid">
                                        <select id="start_year" class="form-control" name="start_year">
                                            <option value="0">제한없음</option>
                                            <option th:each="year : ${#numbers.sequence(1941, 2024)}"
                                                    th:value="${year}" th:text="${year}"></option>
                                        </select>
                                    </div>
                                    <div class="col-auto">
                                        ~
                                    </div>
                                    <div class="col d-grid">
                                        <select id="end_year" class="form-control" name="end_year">
                                            <option value="5000">제한없음</option>
                                            <option th:each="year : ${#numbers.sequence(1941, 2024)}"
                                                    th:value="${year}" th:text="${year}"></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row border rounded bg-body-tertiary text-secondary" style="font-size: 0.8em;">
                                    <div class="col align-items-center d-flex">
                                        <span class="material-symbols-outlined thin-icon">error</span>
                                        소모임장이 원하는 연령의 멤버를 안내하는 내용이에요.
                                        출생연도 범위를 설정하지 않으면 연령과 관계없이 모임을 신청할 수 있어요.
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <span class="fw-semibold" style="font-size: 0.8em;">성별</span>
                                    </div>
                                </div>
                                      <!-- 성별제한 -->
                                <div class="row justify-content-center">
                            
                                
                                    <div class="col-4 d-grid">
                                        <input type="radio" class="btn-check" value="all" name="gender" id="option1" autocomplete="off">
                                        <label class="btn btn-outline-success" for="option1">성별무관</label>
                                    </div>

                                    <div class="col-4 d-grid">
                                        <input type="radio" class="btn-check" value="M" name="gender" id="option2" autocomplete="off" >
                                        <label class="btn btn-outline-success" for="option2">남자만</label>
                                    </div>

                                    <div class="col-4 d-grid">
                                        <input type="radio" class="btn-check" value="F" name="gender" id="option3" autocomplete="off">
                                        <label class="btn btn-outline-success" for="option3">여자만</label>
                                    </div>
                                </div>

                                <div class="row border rounded bg-body-tertiary text-secondary" style="font-size: 0.8em;">
                                    <div class="col align-items-center d-flex">
                                        <span class="material-symbols-outlined thin-icon">error</span>
                                        소모임장이 원하는 성별의 멤버를 안내하는 내용이에요.
                                        성별무관 옵션은 성별과 관계없이 누구나 모임에 신청이 가능해요.
                                    </div>
                                </div>

                           

                                <div class="row pt-3">
                                    <div class="col">
                                        <button class="form-control btn lightBg text-white">개설하기</button>  
                                    </div>
                                </div>


                            </div>
                        </div>

                    </div>
                
               
            </form>

                
        </div>

        <script>
            let count = 10;
    
            function updateCounter() {
                document.getElementById('counter').textContent = count + '명';
            }
    
            function increment() {
                count++;
                updateCounter();
            }
    
            function decrement() {
                if (count > 0) {
                    count--;
                    updateCounter();
                }
            }
        </script>


         
        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="/public/js/uploader.js"></script>
        <script src="/public/js/club/createNewMeeting.js"></script>
        <script>
            createUploader("main_img");
        </script>
    </body>
</html>