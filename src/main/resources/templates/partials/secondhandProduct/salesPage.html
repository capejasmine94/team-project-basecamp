<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>BASECAMP</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="/public/css/secondHandProductCss/style.css">
</head>
<body>
<div th:fragment="content">
    <div th:each="mySalesList : ${mySalesDtoList}">
        <a th:href="@{/secondhandProduct/postDetailsPage(product_id=${mySalesList.product_id}, user_id=${mySalesList.user_id}, polygon_name=${mySalesList.polygon_name})}"
           class="row mx-2 link-custom" style="margin-top: 1.5rem">
            <div class="col-4 me-2" style="height: 7rem;">
                <img class="mainPostImg-custom" th:src="@{/images/{image}(image=${mySalesList.main_image})}">
            </div>
            <div class="col ps-0">
                <div class="row-auto">
                    <div class="col">
                        <span th:text="${mySalesList.title}" class="main-title-font title-line">제목~</span>
                    </div>
                    <div class="col main-subtitle-font">
                        <span th:text="${mySalesList.category_name}">카테고리</span><span>・</span>
                        <span th:text="${mySalesList.polygon_name}">위치</span><span>・</span>
                        <span th:if="${mySalesList.updated_at != null}"
                              th:text="${T(com.bulmeong.basecamp.common.util.TimeUtil).timeAgo(mySalesList.updated_at)}">수정일</span>
                        <span th:if="${mySalesList.updated_at == null}"
                              th:text="${T(com.bulmeong.basecamp.common.util.TimeUtil).timeAgo(mySalesList.created_at)}">생성일</span>
                    </div>
                    <div class="col">
                        <span th:text="|${#numbers.formatInteger(mySalesList.price, 0, 'COMMA')}원|" class="main-price-font">금액</span>
                    </div>
                    <div class="col pt-3 text-end main-like-font">
                        <span><i class="bi bi-chat"></i></span><span class="ms-1" th:text="${mySalesList.chat_room_count}">채팅수</span>
                        <span><i class="bi bi-heart"></i></span><span class="ms-1" th:text="${mySalesList.wish_list_count}">좋아요수</span>
                    </div>
                </div>
            </div>
        </a>
<!-- 모달 -->
        <div class="row mx-2 mt-1">
            <div class="col d-grid">
                <!-- 모달 트리거 이용해서 타임리프 값 보내기 : th:data-->
                <button class="btn border d-flex align-items-center justify-content-center"
                        style="height: 2rem; background-color: #28323C"
                        data-bs-toggle="modal"
                        data-bs-target="#salesModal"
                        th:data-product-id="${mySalesList.product_id}">
                    <span style="color: white">메뉴</span>
                </button>
            </div>
        </div>
        <div class="row mx-3">
            <div class="col border-bottom" style="margin-top: 1rem;"></div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/7b271bba58.js" crossorigin="anonymous"></script>
<script>
</script>
</body>
</html>

